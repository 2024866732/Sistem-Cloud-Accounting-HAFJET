import{r as e}from"./rolldown-runtime-DGruFWvd.js";import{_ as t}from"./charts-CsPrSeQA.js";import{n}from"./vendor-C1UjBRMx.js";import{t as r}from"./utils-CNBB1jrL.js";var i=e(t()),a=e(n()),o=({title:e,value:t,change:n,icon:r,color:i=`blue`,trend:o=`up`,subtitle:s})=>{let c={blue:{bg:`from-futuristic-blue-500/20 to-futuristic-blue-600/20`,border:`border-futuristic-blue-400/30`,glow:`shadow-neon-blue`,text:`text-futuristic-blue-400`},green:{bg:`from-futuristic-neon-green/20 to-green-500/20`,border:`border-futuristic-neon-green/30`,glow:`shadow-neon`,text:`text-futuristic-neon-green`},purple:{bg:`from-futuristic-purple-500/20 to-futuristic-purple-600/20`,border:`border-futuristic-purple-400/30`,glow:`shadow-neon-purple`,text:`text-futuristic-purple-400`},cyan:{bg:`from-futuristic-cyan-500/20 to-futuristic-cyan-600/20`,border:`border-futuristic-cyan-400/30`,glow:`shadow-neon-blue`,text:`text-futuristic-cyan-400`},pink:{bg:`from-futuristic-neon-pink/20 to-pink-500/20`,border:`border-futuristic-neon-pink/30`,glow:`shadow-neon-purple`,text:`text-futuristic-neon-pink`}}[i];return(0,a.jsxs)(`div`,{className:`
      relative overflow-hidden rounded-2xl p-6
      bg-gradient-to-br ${c.bg} backdrop-blur-xl
      border ${c.border} hover:${c.glow}
      transition-all duration-300 hover:scale-105 animate-fade-in-up
      cyber-card group cursor-pointer
    `,children:[(0,a.jsx)(`div`,{className:`absolute inset-0 opacity-10`,children:(0,a.jsx)(`div`,{className:`absolute top-0 right-0 w-32 h-32 rounded-full bg-gradient-to-br from-white/20 to-transparent animate-float`})}),(0,a.jsxs)(`div`,{className:`relative`,children:[(0,a.jsxs)(`div`,{className:`flex items-center justify-between mb-4`,children:[(0,a.jsx)(`div`,{className:`
            w-12 h-12 rounded-xl bg-gradient-to-br ${c.bg}
            flex items-center justify-center text-2xl
            border ${c.border} group-hover:animate-glow-pulse
          `,children:r}),n&&(0,a.jsxs)(`div`,{className:`
              flex items-center space-x-1 px-3 py-1 rounded-full text-xs font-semibold
              ${o===`up`?`bg-green-500/20 text-green-400`:o===`down`?`bg-red-500/20 text-red-400`:`bg-gray-500/20 text-gray-400`}
            `,children:[(0,a.jsx)(`span`,{children:o===`up`?`↗️`:o===`down`?`↘️`:`→`}),(0,a.jsx)(`span`,{children:n})]})]}),(0,a.jsxs)(`div`,{children:[(0,a.jsx)(`p`,{className:`text-futuristic-gray-400 text-sm font-medium mb-2`,children:e}),(0,a.jsx)(`p`,{className:`text-3xl font-bold ${c.text} mb-1 text-glow`,children:t}),s&&(0,a.jsx)(`p`,{className:`text-futuristic-gray-500 text-xs`,children:s})]})]})]})},s=({icon:e,label:t,onClick:n,color:r=`blue`})=>(0,a.jsxs)(`button`,{onClick:n,className:`
        relative group w-full p-4 rounded-xl 
        bg-gradient-to-r ${{blue:`from-futuristic-blue-500 to-futuristic-blue-600 hover:from-futuristic-blue-400 hover:to-futuristic-blue-500`,green:`from-green-500 to-green-600 hover:from-green-400 hover:to-green-500`,purple:`from-futuristic-purple-500 to-futuristic-purple-600 hover:from-futuristic-purple-400 hover:to-futuristic-purple-500`,cyan:`from-futuristic-cyan-500 to-futuristic-cyan-600 hover:from-futuristic-cyan-400 hover:to-futuristic-cyan-500`}[r]}
        border border-white/20 text-white font-semibold
        transition-all duration-300 hover:scale-105 hover:shadow-neon-blue
        overflow-hidden
      `,children:[(0,a.jsxs)(`div`,{className:`relative flex items-center space-x-3`,children:[(0,a.jsx)(`span`,{className:`text-2xl group-hover:scale-110 transition-transform duration-300`,children:e}),(0,a.jsx)(`span`,{className:`text-sm`,children:t})]}),(0,a.jsx)(`div`,{className:`absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-700`})]});function c(){let[e,t]=(0,i.useState)(null),[n,c]=(0,i.useState)(!0),[l,u]=(0,i.useState)(null);return(0,i.useEffect)(()=>{(async()=>{try{c(!0),console.log(`🔄 Fetching dashboard data from backend...`);try{let e=await fetch(`http://localhost:3001/api/dashboard`,{method:`GET`,headers:{"Content-Type":`application/json`,Authorization:`Bearer ${localStorage.getItem(`authToken`)}`}});if(e.ok){let n=await e.json();if(console.log(`✅ Dashboard data from backend:`,n),n.success){let e={revenue:{total:n.data.revenue,growth:12.5,thisMonth:n.data.revenue*.22},expenses:{total:n.data.expenses,growth:-8.2,thisMonth:n.data.expenses*.19},profit:{total:n.data.profit,margin:n.data.profitMargin||64.2,growth:22.1},tax:{sstCollected:n.data.sstCollected,sstPayable:n.data.sstCollected*.36,taxRate:6},einvoice:{submitted:n.data.invoices.total,approved:n.data.invoices.paid,complianceRate:n.data.einvoiceCompliance},customers:{total:48,active:35,newThisMonth:8},invoices:n.data.invoices,bills:n.data.bills,recentActivity:n.data.recentActivity||[],monthlyRevenue:n.data.monthlyRevenue||[]};t(e),u(null),console.log(`✅ Dashboard data processed successfully`);return}}}catch{console.log(`⚠️ Backend not available, using mock data`)}t({revenue:{total:2845670,growth:12.5,thisMonth:625850},expenses:{total:1542330,growth:-8.2,thisMonth:295120},profit:{total:1303340,margin:64.2,growth:22.1},tax:{sstCollected:170740,sstPayable:61467,taxRate:6},einvoice:{submitted:156,approved:148,complianceRate:94.9},customers:{total:48,active:35,newThisMonth:8},invoices:{total:156,paid:132,pending:18,overdue:6,comingDue:12},bills:{total:89,paid:76,pending:8,overdue:5,comingDue:7},recentActivity:[{id:`1`,type:`invoice`,description:`Invoice #INV-2024-001 paid by Syarikat ABC Sdn Bhd`,amount:12500,date:`2024-10-01`,status:`completed`},{id:`2`,type:`expense`,description:`Office rent payment for October 2024`,amount:-8500,date:`2024-10-01`,status:`completed`},{id:`3`,type:`einvoice`,description:`E-Invoice submitted to LHDN - INV-2024-002`,date:`2024-09-30`,status:`approved`},{id:`4`,type:`payment`,description:`Customer payment received via FPX`,amount:5600,date:`2024-09-30`,status:`completed`},{id:`5`,type:`tax`,description:`SST return filed for September 2024`,date:`2024-09-29`,status:`submitted`}],monthlyRevenue:[{month:`Jan`,amount:245e3},{month:`Feb`,amount:267e3},{month:`Mar`,amount:234e3},{month:`Apr`,amount:289e3},{month:`May`,amount:298e3},{month:`Jun`,amount:312e3}]}),u(null)}catch(e){console.error(`❌ Dashboard error:`,e),u(`Failed to load dashboard data`)}finally{c(!1)}})()},[]),n?(0,a.jsx)(`div`,{className:`min-h-screen bg-gradient-to-br from-futuristic-dark via-futuristic-gray-900 to-futuristic-darker flex items-center justify-center`,children:(0,a.jsxs)(`div`,{className:`text-center space-y-6`,children:[(0,a.jsxs)(`div`,{className:`relative`,children:[(0,a.jsx)(`div`,{className:`w-20 h-20 border-4 border-futuristic-neon-blue/30 rounded-full animate-spin border-t-futuristic-neon-blue`}),(0,a.jsx)(`div`,{className:`absolute inset-0 w-20 h-20 border-4 border-futuristic-neon-purple/30 rounded-full animate-spin border-t-futuristic-neon-purple animate-reverse`})]}),(0,a.jsxs)(`div`,{className:`space-y-2`,children:[(0,a.jsx)(`h2`,{className:`text-2xl font-bold text-white animate-pulse`,children:`Memuat Data Dashboard`}),(0,a.jsx)(`p`,{className:`text-futuristic-gray-400 animate-pulse`,children:`Menghubung ke sistem perakaunan...`})]})]})}):l?(0,a.jsx)(`div`,{className:`min-h-screen bg-gradient-to-br from-futuristic-dark via-futuristic-gray-900 to-futuristic-darker flex items-center justify-center`,children:(0,a.jsxs)(`div`,{className:`text-center space-y-6 p-8`,children:[(0,a.jsx)(`div`,{className:`text-6xl`,children:`⚠️`}),(0,a.jsxs)(`div`,{className:`space-y-2`,children:[(0,a.jsx)(`h2`,{className:`text-2xl font-bold text-red-400`,children:`Ralat Sistem`}),(0,a.jsx)(`p`,{className:`text-futuristic-gray-400`,children:l})]}),(0,a.jsx)(`button`,{onClick:()=>window.location.reload(),className:`btn-futuristic`,children:`🔄 Cuba Semula`})]})}):e?(0,a.jsxs)(`div`,{className:`space-y-8 animate-fade-in-up`,children:[(0,a.jsxs)(`div`,{className:`relative overflow-hidden rounded-3xl bg-gradient-to-r from-futuristic-blue-600/20 to-futuristic-purple-600/20 backdrop-blur-xl border border-futuristic-blue-400/20 p-8`,children:[(0,a.jsx)(`div`,{className:`absolute inset-0 opacity-20`,children:(0,a.jsx)(`div`,{className:`absolute top-0 left-0 w-full h-full bg-gradient-to-r from-transparent via-futuristic-neon-blue/10 to-transparent animate-data-flow`})}),(0,a.jsx)(`div`,{className:`relative`,children:(0,a.jsxs)(`div`,{className:`flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0`,children:[(0,a.jsxs)(`div`,{children:[(0,a.jsx)(`h1`,{className:`text-3xl lg:text-4xl font-bold bg-gradient-to-r from-futuristic-neon-blue via-futuristic-neon-purple to-futuristic-neon-green bg-clip-text text-transparent mb-2`,children:`Dashboard Futuristik`}),(0,a.jsx)(`p`,{className:`text-futuristic-gray-400 text-lg`,children:`Sistem Perakaunan Cloud Malaysia - Kawalan Pusat`})]}),(0,a.jsxs)(`div`,{className:`flex flex-wrap gap-3`,children:[(0,a.jsx)(`span`,{className:`px-4 py-2 bg-green-500/20 text-green-400 rounded-full text-sm font-semibold border border-green-500/30 animate-glow-pulse`,children:`✅ Sistem Aktif`}),(0,a.jsx)(`span`,{className:`px-4 py-2 bg-blue-500/20 text-blue-400 rounded-full text-sm font-semibold border border-blue-500/30 animate-glow-pulse`,children:`🇲🇾 LHDN Patuh`})]})]})})]}),(0,a.jsxs)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6`,children:[(0,a.jsx)(o,{title:`Jumlah Hasil`,value:r(e.revenue.total),change:`+${e.revenue.growth}%`,trend:`up`,icon:`💰`,color:`green`,subtitle:`Bulan ini: ${r(e.revenue.thisMonth)}`}),(0,a.jsx)(o,{title:`Jumlah Perbelanjaan`,value:r(e.expenses.total),change:`${e.expenses.growth}%`,trend:`down`,icon:`📊`,color:`blue`,subtitle:`Bulan ini: ${r(e.expenses.thisMonth)}`}),(0,a.jsx)(o,{title:`Keuntungan Bersih`,value:r(e.profit.total),change:`+${e.profit.growth}%`,trend:`up`,icon:`📈`,color:`purple`,subtitle:`Margin: ${e.profit.margin}%`}),(0,a.jsx)(o,{title:`SST Terkumpul`,value:r(e.tax.sstCollected),change:`${e.tax.taxRate}%`,trend:`neutral`,icon:`🏛️`,color:`cyan`,subtitle:`Perlu Bayar: ${r(e.tax.sstPayable)}`})]}),(0,a.jsxs)(`div`,{className:`grid grid-cols-1 lg:grid-cols-3 gap-8`,children:[(0,a.jsx)(`div`,{className:`lg:col-span-1`,children:(0,a.jsxs)(`div`,{className:`cyber-card rounded-2xl p-6`,children:[(0,a.jsxs)(`h3`,{className:`text-xl font-bold text-white mb-6 flex items-center`,children:[(0,a.jsx)(`span`,{className:`mr-3 text-2xl`,children:`⚡`}),`Tindakan Pantas`]}),(0,a.jsxs)(`div`,{className:`space-y-4`,children:[(0,a.jsx)(s,{icon:`🧾`,label:`Buat Invois Baharu`,onClick:()=>console.log(`Create Invoice`),color:`blue`}),(0,a.jsx)(s,{icon:`💳`,label:`Rekod Perbelanjaan`,onClick:()=>console.log(`Record Expense`),color:`purple`}),(0,a.jsx)(s,{icon:`🇲🇾`,label:`Hantar E-Invoice LHDN`,onClick:()=>console.log(`Submit E-Invoice`),color:`green`}),(0,a.jsx)(s,{icon:`📊`,label:`Jana Laporan`,onClick:()=>console.log(`Generate Report`),color:`cyan`})]})]})}),(0,a.jsx)(`div`,{className:`lg:col-span-2`,children:(0,a.jsxs)(`div`,{className:`cyber-card rounded-2xl p-6`,children:[(0,a.jsxs)(`h3`,{className:`text-xl font-bold text-white mb-6 flex items-center`,children:[(0,a.jsx)(`span`,{className:`mr-3 text-2xl`,children:`🔄`}),`Aktiviti Terkini`]}),(0,a.jsx)(`div`,{className:`space-y-4 max-h-96 overflow-y-auto`,children:e.recentActivity.map((e,t)=>(0,a.jsxs)(`div`,{className:`flex items-center justify-between p-4 rounded-xl bg-futuristic-gray-800/50 border border-futuristic-gray-700/50 hover:border-futuristic-blue-500/30 transition-all duration-300 animate-fade-in-up`,style:{animationDelay:`${t*100}ms`},children:[(0,a.jsxs)(`div`,{className:`flex-1`,children:[(0,a.jsx)(`p`,{className:`text-white font-medium text-sm mb-1`,children:e.description}),(0,a.jsx)(`p`,{className:`text-futuristic-gray-400 text-xs`,children:new Date(e.date).toLocaleDateString(`ms-MY`)})]}),(0,a.jsxs)(`div`,{className:`flex items-center space-x-3`,children:[e.amount&&(0,a.jsxs)(`span`,{className:`font-semibold text-sm ${e.amount>0?`text-green-400`:`text-red-400`}`,children:[e.amount>0?`+`:``,r(Math.abs(e.amount))]}),(0,a.jsx)(`span`,{className:`
                      px-2 py-1 rounded-full text-xs font-medium
                      ${e.status===`completed`?`bg-green-500/20 text-green-400`:e.status===`approved`?`bg-blue-500/20 text-blue-400`:e.status===`submitted`?`bg-yellow-500/20 text-yellow-400`:`bg-gray-500/20 text-gray-400`}
                    `,children:e.status})]})]},e.id))})]})})]}),(0,a.jsxs)(`div`,{className:`grid grid-cols-1 lg:grid-cols-2 gap-8`,children:[(0,a.jsxs)(`div`,{className:`cyber-card rounded-2xl p-6`,children:[(0,a.jsxs)(`h3`,{className:`text-xl font-bold text-white mb-6 flex items-center`,children:[(0,a.jsx)(`span`,{className:`mr-3 text-2xl`,children:`🇲🇾`}),`Status E-Invoice LHDN`]}),(0,a.jsxs)(`div`,{className:`space-y-6`,children:[(0,a.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,a.jsx)(`span`,{className:`text-futuristic-gray-400`,children:`Dihantar Bulan Ini:`}),(0,a.jsx)(`span`,{className:`text-white font-bold text-xl`,children:e.einvoice.submitted})]}),(0,a.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,a.jsx)(`span`,{className:`text-futuristic-gray-400`,children:`Diluluskan:`}),(0,a.jsx)(`span`,{className:`text-green-400 font-bold text-xl`,children:e.einvoice.approved})]}),(0,a.jsxs)(`div`,{className:`space-y-2`,children:[(0,a.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,a.jsx)(`span`,{className:`text-futuristic-gray-400`,children:`Kadar Kepatuhan:`}),(0,a.jsxs)(`span`,{className:`text-futuristic-neon-green font-bold`,children:[e.einvoice.complianceRate,`%`]})]}),(0,a.jsx)(`div`,{className:`w-full bg-futuristic-gray-700 rounded-full h-3`,children:(0,a.jsx)(`div`,{className:`bg-gradient-to-r from-futuristic-neon-green to-green-500 h-3 rounded-full transition-all duration-1000 animate-glow-pulse`,style:{width:`${e.einvoice.complianceRate}%`}})})]})]})]}),(0,a.jsxs)(`div`,{className:`cyber-card rounded-2xl p-6`,children:[(0,a.jsxs)(`h3`,{className:`text-xl font-bold text-white mb-6 flex items-center`,children:[(0,a.jsx)(`span`,{className:`mr-3 text-2xl`,children:`📋`}),`Ringkasan Invois & Bil`]}),(0,a.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,a.jsxs)(`div`,{className:`text-center p-4 rounded-xl bg-futuristic-blue-500/10 border border-futuristic-blue-500/20`,children:[(0,a.jsx)(`div`,{className:`text-2xl font-bold text-futuristic-blue-400 mb-1`,children:e.invoices.paid}),(0,a.jsx)(`div`,{className:`text-xs text-futuristic-gray-400`,children:`Invois Dibayar`})]}),(0,a.jsxs)(`div`,{className:`text-center p-4 rounded-xl bg-yellow-500/10 border border-yellow-500/20`,children:[(0,a.jsx)(`div`,{className:`text-2xl font-bold text-yellow-400 mb-1`,children:e.invoices.pending}),(0,a.jsx)(`div`,{className:`text-xs text-futuristic-gray-400`,children:`Invois Tertunggak`})]}),(0,a.jsxs)(`div`,{className:`text-center p-4 rounded-xl bg-green-500/10 border border-green-500/20`,children:[(0,a.jsx)(`div`,{className:`text-2xl font-bold text-green-400 mb-1`,children:e.bills.paid}),(0,a.jsx)(`div`,{className:`text-xs text-futuristic-gray-400`,children:`Bil Dibayar`})]}),(0,a.jsxs)(`div`,{className:`text-center p-4 rounded-xl bg-red-500/10 border border-red-500/20`,children:[(0,a.jsx)(`div`,{className:`text-2xl font-bold text-red-400 mb-1`,children:e.bills.overdue}),(0,a.jsx)(`div`,{className:`text-xs text-futuristic-gray-400`,children:`Bil Tertunggak`})]})]})]})]})]}):null}export{c as default};
//# sourceMappingURL=Dashboard-BI7EeuM0.js.map