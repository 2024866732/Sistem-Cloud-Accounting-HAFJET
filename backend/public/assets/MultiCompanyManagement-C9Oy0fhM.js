import{r as e}from"./rolldown-runtime-DGruFWvd.js";import{_ as t}from"./charts-CsPrSeQA.js";import{A as n,B as r,Q as i,a,b as o,d as s,dt as c,m as l,mt as u,nt as d,ot as f,u as p,ut as m,v as h,w as g}from"./vendor-cVok5HuT.js";var _=e(t()),v=e(u()),y=()=>{let[e,t]=(0,_.useState)([]),[i,o]=(0,_.useState)(`current_month`),[u,f]=(0,_.useState)(!0);(0,_.useEffect)(()=>{let e=[{branchId:`branch_1`,name:`KL Branch`,code:`KL001`,location:`Kuala Lumpur`,manager:`Ahmad Rahman`,employees:15,monthlyData:[{month:`Jan`,revenue:75e3,expenses:55e3,profit:2e4,customers:120},{month:`Feb`,revenue:78e3,expenses:56e3,profit:22e3,customers:125},{month:`Mar`,revenue:82e3,expenses:58e3,profit:24e3,customers:130},{month:`Apr`,revenue:85e3,expenses:6e4,profit:25e3,customers:135},{month:`May`,revenue:88e3,expenses:62e3,profit:26e3,customers:140},{month:`Jun`,revenue:92e3,expenses:64e3,profit:28e3,customers:145}],currentMonth:{revenue:92e3,expenses:64e3,profit:28e3,customers:145,growth:{revenue:12.5,profit:15.2}},isActive:!0},{branchId:`branch_2`,name:`Penang Branch`,code:`PG001`,location:`George Town, Penang`,manager:`Lim Wei Ming`,employees:8,monthlyData:[{month:`Jan`,revenue:42e3,expenses:32e3,profit:1e4,customers:80},{month:`Feb`,revenue:44e3,expenses:33e3,profit:11e3,customers:82},{month:`Mar`,revenue:46e3,expenses:34e3,profit:12e3,customers:85},{month:`Apr`,revenue:48e3,expenses:35e3,profit:13e3,customers:88},{month:`May`,revenue:5e4,expenses:36e3,profit:14e3,customers:90},{month:`Jun`,revenue:52e3,expenses:37e3,profit:15e3,customers:95}],currentMonth:{revenue:52e3,expenses:37e3,profit:15e3,customers:95,growth:{revenue:8.7,profit:11.3}},isActive:!0},{branchId:`branch_3`,name:`Johor Branch`,code:`JB001`,location:`Johor Bahru`,manager:`Siti Nurhaliza`,employees:6,monthlyData:[{month:`Jan`,revenue:28e3,expenses:22e3,profit:6e3,customers:50},{month:`Feb`,revenue:29e3,expenses:23e3,profit:6e3,customers:52},{month:`Mar`,revenue:3e4,expenses:24e3,profit:6e3,customers:54},{month:`Apr`,revenue:31e3,expenses:24500,profit:6500,customers:56},{month:`May`,revenue:32e3,expenses:25e3,profit:7e3,customers:58},{month:`Jun`,revenue:34e3,expenses:26e3,profit:8e3,customers:62}],currentMonth:{revenue:34e3,expenses:26e3,profit:8e3,customers:62,growth:{revenue:5.2,profit:7.8}},isActive:!0}];setTimeout(()=>{t(e),f(!1)},1e3)},[]);let m=()=>e.reduce((e,t)=>({revenue:e.revenue+t.currentMonth.revenue,expenses:e.expenses+t.currentMonth.expenses,profit:e.profit+t.currentMonth.profit,customers:e.customers+t.currentMonth.customers,employees:e.employees+t.employees}),{revenue:0,expenses:0,profit:0,customers:0,employees:0}),h=t=>e.length===0?null:e.reduce((e,n)=>{let r=n.currentMonth[t],i=e.currentMonth[t];return r>i?n:e}),y=e=>e>=0?(0,v.jsx)(p,{className:`w-4 h-4 text-green-600`}):(0,v.jsx)(s,{className:`w-4 h-4 text-red-600`}),b=e=>e>=0?`text-green-600`:`text-red-600`;if(u)return(0,v.jsx)(`div`,{className:`min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-6 flex items-center justify-center`,children:(0,v.jsx)(`div`,{className:`animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600`})});let x=m(),S=h(`revenue`),C=h(`profit`);return(0,v.jsxs)(`div`,{className:`space-y-6`,children:[(0,v.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,v.jsx)(`h3`,{className:`text-xl font-semibold`,children:`Branch Performance Analytics`}),(0,v.jsxs)(`div`,{className:`flex space-x-3`,children:[(0,v.jsxs)(`select`,{value:i,onChange:e=>o(e.target.value),className:`border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent`,children:[(0,v.jsx)(`option`,{value:`current_month`,children:`Current Month`}),(0,v.jsx)(`option`,{value:`last_3_months`,children:`Last 3 Months`}),(0,v.jsx)(`option`,{value:`last_6_months`,children:`Last 6 Months`}),(0,v.jsx)(`option`,{value:`year_to_date`,children:`Year to Date`})]}),(0,v.jsxs)(`button`,{className:`bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2`,children:[(0,v.jsx)(g,{className:`w-4 h-4`}),(0,v.jsx)(`span`,{children:`Add Branch`})]})]})]}),(0,v.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-5 gap-4`,children:[(0,v.jsx)(`div`,{className:`bg-white rounded-lg p-4 shadow-sm border`,children:(0,v.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,v.jsxs)(`div`,{children:[(0,v.jsx)(`p`,{className:`text-sm text-gray-600`,children:`Total Revenue`}),(0,v.jsxs)(`p`,{className:`text-xl font-bold text-green-600`,children:[`RM `,x.revenue.toLocaleString()]})]}),(0,v.jsx)(d,{className:`w-6 h-6 text-green-600`})]})}),(0,v.jsx)(`div`,{className:`bg-white rounded-lg p-4 shadow-sm border`,children:(0,v.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,v.jsxs)(`div`,{children:[(0,v.jsx)(`p`,{className:`text-sm text-gray-600`,children:`Total Profit`}),(0,v.jsxs)(`p`,{className:`text-xl font-bold text-blue-600`,children:[`RM `,x.profit.toLocaleString()]})]}),(0,v.jsx)(p,{className:`w-6 h-6 text-blue-600`})]})}),(0,v.jsx)(`div`,{className:`bg-white rounded-lg p-4 shadow-sm border`,children:(0,v.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,v.jsxs)(`div`,{children:[(0,v.jsx)(`p`,{className:`text-sm text-gray-600`,children:`Active Branches`}),(0,v.jsx)(`p`,{className:`text-xl font-bold text-purple-600`,children:e.filter(e=>e.isActive).length})]}),(0,v.jsx)(n,{className:`w-6 h-6 text-purple-600`})]})}),(0,v.jsx)(`div`,{className:`bg-white rounded-lg p-4 shadow-sm border`,children:(0,v.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,v.jsxs)(`div`,{children:[(0,v.jsx)(`p`,{className:`text-sm text-gray-600`,children:`Total Employees`}),(0,v.jsx)(`p`,{className:`text-xl font-bold text-orange-600`,children:x.employees})]}),(0,v.jsx)(a,{className:`w-6 h-6 text-orange-600`})]})}),(0,v.jsx)(`div`,{className:`bg-white rounded-lg p-4 shadow-sm border`,children:(0,v.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,v.jsxs)(`div`,{children:[(0,v.jsx)(`p`,{className:`text-sm text-gray-600`,children:`Total Customers`}),(0,v.jsx)(`p`,{className:`text-xl font-bold text-pink-600`,children:x.customers})]}),(0,v.jsx)(a,{className:`w-6 h-6 text-pink-600`})]})})]}),(0,v.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-6`,children:[(0,v.jsxs)(`div`,{className:`bg-white rounded-lg p-6 shadow-sm border`,children:[(0,v.jsxs)(`h4`,{className:`font-medium mb-4 flex items-center space-x-2`,children:[(0,v.jsx)(p,{className:`w-5 h-5 text-green-600`}),(0,v.jsx)(`span`,{children:`Top Revenue Performer`})]}),S&&(0,v.jsx)(`div`,{className:`space-y-3`,children:(0,v.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,v.jsxs)(`div`,{children:[(0,v.jsx)(`p`,{className:`font-medium`,children:S.name}),(0,v.jsx)(`p`,{className:`text-sm text-gray-500`,children:S.location})]}),(0,v.jsxs)(`div`,{className:`text-right`,children:[(0,v.jsxs)(`p`,{className:`text-lg font-bold text-green-600`,children:[`RM `,S.currentMonth.revenue.toLocaleString()]}),(0,v.jsxs)(`div`,{className:`flex items-center space-x-1`,children:[y(S.currentMonth.growth.revenue),(0,v.jsxs)(`span`,{className:`text-sm ${b(S.currentMonth.growth.revenue)}`,children:[S.currentMonth.growth.revenue.toFixed(1),`%`]})]})]})]})})]}),(0,v.jsxs)(`div`,{className:`bg-white rounded-lg p-6 shadow-sm border`,children:[(0,v.jsxs)(`h4`,{className:`font-medium mb-4 flex items-center space-x-2`,children:[(0,v.jsx)(d,{className:`w-5 h-5 text-blue-600`}),(0,v.jsx)(`span`,{children:`Top Profit Performer`})]}),C&&(0,v.jsx)(`div`,{className:`space-y-3`,children:(0,v.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,v.jsxs)(`div`,{children:[(0,v.jsx)(`p`,{className:`font-medium`,children:C.name}),(0,v.jsx)(`p`,{className:`text-sm text-gray-500`,children:C.location})]}),(0,v.jsxs)(`div`,{className:`text-right`,children:[(0,v.jsxs)(`p`,{className:`text-lg font-bold text-blue-600`,children:[`RM `,C.currentMonth.profit.toLocaleString()]}),(0,v.jsxs)(`div`,{className:`flex items-center space-x-1`,children:[y(C.currentMonth.growth.profit),(0,v.jsxs)(`span`,{className:`text-sm ${b(C.currentMonth.growth.profit)}`,children:[C.currentMonth.growth.profit.toFixed(1),`%`]})]})]})]})})]})]}),(0,v.jsxs)(`div`,{className:`bg-white rounded-lg shadow-sm border`,children:[(0,v.jsx)(`div`,{className:`p-6 border-b border-gray-200`,children:(0,v.jsx)(`h4`,{className:`font-medium`,children:`Branch Performance Details`})}),(0,v.jsx)(`div`,{className:`overflow-x-auto`,children:(0,v.jsxs)(`table`,{className:`w-full`,children:[(0,v.jsx)(`thead`,{className:`bg-gray-50`,children:(0,v.jsxs)(`tr`,{children:[(0,v.jsx)(`th`,{className:`px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider`,children:`Branch`}),(0,v.jsx)(`th`,{className:`px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider`,children:`Manager`}),(0,v.jsx)(`th`,{className:`px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider`,children:`Employees`}),(0,v.jsx)(`th`,{className:`px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider`,children:`Revenue`}),(0,v.jsx)(`th`,{className:`px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider`,children:`Profit`}),(0,v.jsx)(`th`,{className:`px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider`,children:`Growth`}),(0,v.jsx)(`th`,{className:`px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider`,children:`Actions`})]})}),(0,v.jsx)(`tbody`,{className:`bg-white divide-y divide-gray-200`,children:e.map(e=>(0,v.jsxs)(`tr`,{className:`hover:bg-gray-50`,children:[(0,v.jsx)(`td`,{className:`px-6 py-4 whitespace-nowrap`,children:(0,v.jsxs)(`div`,{className:`flex items-center`,children:[(0,v.jsx)(`div`,{className:`flex-shrink-0 h-8 w-8 bg-blue-100 rounded-full flex items-center justify-center`,children:(0,v.jsx)(n,{className:`h-4 w-4 text-blue-600`})}),(0,v.jsxs)(`div`,{className:`ml-3`,children:[(0,v.jsx)(`div`,{className:`text-sm font-medium text-gray-900`,children:e.name}),(0,v.jsxs)(`div`,{className:`text-sm text-gray-500`,children:[e.code,` • `,e.location]})]})]})}),(0,v.jsx)(`td`,{className:`px-6 py-4 whitespace-nowrap`,children:(0,v.jsx)(`div`,{className:`text-sm text-gray-900`,children:e.manager})}),(0,v.jsx)(`td`,{className:`px-6 py-4 whitespace-nowrap`,children:(0,v.jsx)(`div`,{className:`text-sm text-gray-900`,children:e.employees})}),(0,v.jsx)(`td`,{className:`px-6 py-4 whitespace-nowrap`,children:(0,v.jsxs)(`div`,{className:`text-sm font-medium text-gray-900`,children:[`RM `,e.currentMonth.revenue.toLocaleString()]})}),(0,v.jsx)(`td`,{className:`px-6 py-4 whitespace-nowrap`,children:(0,v.jsxs)(`div`,{className:`text-sm font-medium text-gray-900`,children:[`RM `,e.currentMonth.profit.toLocaleString()]})}),(0,v.jsx)(`td`,{className:`px-6 py-4 whitespace-nowrap`,children:(0,v.jsxs)(`div`,{className:`flex items-center space-x-2`,children:[y(e.currentMonth.growth.revenue),(0,v.jsxs)(`span`,{className:`text-sm font-medium ${b(e.currentMonth.growth.revenue)}`,children:[e.currentMonth.growth.revenue.toFixed(1),`%`]})]})}),(0,v.jsx)(`td`,{className:`px-6 py-4 whitespace-nowrap text-sm font-medium`,children:(0,v.jsxs)(`div`,{className:`flex space-x-2`,children:[(0,v.jsx)(`button`,{className:`text-blue-600 hover:text-blue-900`,children:(0,v.jsx)(r,{className:`w-4 h-4`})}),(0,v.jsx)(`button`,{className:`text-gray-600 hover:text-gray-900`,children:(0,v.jsx)(l,{className:`w-4 h-4`})}),(0,v.jsx)(`button`,{className:`text-red-600 hover:text-red-900`,children:(0,v.jsx)(c,{className:`w-4 h-4`})})]})})]},e.branchId))})]})})]})]})},b=()=>{let[e,t]=(0,_.useState)([]),[r,s]=(0,_.useState)(``),[c,l]=(0,_.useState)([]),[u,p]=(0,_.useState)(`overview`),[b,x]=(0,_.useState)(!1),[S,C]=(0,_.useState)(``),[w,T]=(0,_.useState)(`all`);(0,_.useEffect)(()=>{t([{id:`comp_1`,name:`HAFJET Holdings Sdn Bhd`,registrationNumber:`202301234567`,taxNumber:`C12345678901`,type:`parent`,isActive:!0,branches:[],financialSummary:{revenue:25e5,expenses:18e5,profit:7e5,employees:45},location:{address:`Level 15, Menara Landmark`,city:`Kuala Lumpur`,state:`Kuala Lumpur`,postcode:`50450`}},{id:`comp_2`,name:`HAFJET Technology Sdn Bhd`,registrationNumber:`202301234568`,taxNumber:`C12345678902`,type:`subsidiary`,parentId:`comp_1`,isActive:!0,branches:[{id:`branch_1`,name:`KL Branch`,code:`KL001`,companyId:`comp_2`,managerId:`user_1`,isActive:!0,location:{address:`Plaza Mont Kiara`,city:`Kuala Lumpur`,state:`Kuala Lumpur`,postcode:`50480`},financialSummary:{revenue:8e5,expenses:6e5,profit:2e5,employees:15}},{id:`branch_2`,name:`Penang Branch`,code:`PG001`,companyId:`comp_2`,managerId:`user_2`,isActive:!0,location:{address:`Gurney Plaza`,city:`George Town`,state:`Penang`,postcode:`10250`},financialSummary:{revenue:45e4,expenses:35e4,profit:1e5,employees:8}}],financialSummary:{revenue:125e4,expenses:95e4,profit:3e5,employees:23},location:{address:`Menara PGRM`,city:`Kuala Lumpur`,state:`Kuala Lumpur`,postcode:`50400`}},{id:`comp_3`,name:`HAFJET Consulting Sdn Bhd`,registrationNumber:`202301234569`,taxNumber:`C12345678903`,type:`subsidiary`,parentId:`comp_1`,isActive:!0,branches:[{id:`branch_3`,name:`Johor Branch`,code:`JB001`,companyId:`comp_3`,managerId:`user_3`,isActive:!0,location:{address:`Johor Bahru City Square`,city:`Johor Bahru`,state:`Johor`,postcode:`80000`},financialSummary:{revenue:32e4,expenses:25e4,profit:7e4,employees:6}}],financialSummary:{revenue:65e4,expenses:48e4,profit:17e4,employees:12},location:{address:`Wisma UOA II`,city:`Kuala Lumpur`,state:`Kuala Lumpur`,postcode:`50450`}}]),s(`comp_1`),l([{id:`ict_1`,fromCompanyId:`comp_1`,toCompanyId:`comp_2`,amount:1e5,description:`Quarterly management fee`,type:`service`,date:`2024-10-01`,status:`completed`,approvedBy:`admin`},{id:`ict_2`,fromCompanyId:`comp_2`,toCompanyId:`comp_3`,amount:5e4,description:`Software licensing fee`,type:`service`,date:`2024-10-01`,status:`pending`},{id:`ict_3`,fromCompanyId:`comp_1`,toCompanyId:`comp_3`,amount:2e5,description:`Working capital loan`,type:`loan`,date:`2024-09-30`,status:`approved`}])},[]);let E=e.filter(e=>{let t=e.name.toLowerCase().includes(S.toLowerCase()),n=w===`all`||e.type===w;return t&&n}),D=()=>e.reduce((e,t)=>({revenue:e.revenue+t.financialSummary.revenue,expenses:e.expenses+t.financialSummary.expenses,profit:e.profit+t.financialSummary.profit,employees:e.employees+t.financialSummary.employees}),{revenue:0,expenses:0,profit:0,employees:0}),O=e=>{switch(e){case`completed`:return`text-green-600 bg-green-100`;case`approved`:return`text-blue-600 bg-blue-100`;case`pending`:return`text-yellow-600 bg-yellow-100`;case`rejected`:return`text-red-600 bg-red-100`;default:return`text-gray-600 bg-gray-100`}},k=t=>e.find(e=>e.id===t)?.name||`Unknown Company`,A=D();return(0,v.jsx)(`div`,{className:`min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-6`,children:(0,v.jsxs)(`div`,{className:`max-w-7xl mx-auto`,children:[(0,v.jsx)(`div`,{className:`mb-8`,children:(0,v.jsxs)(`div`,{className:`flex items-center justify-between mb-4`,children:[(0,v.jsxs)(`div`,{className:`flex items-center space-x-4`,children:[(0,v.jsx)(`div`,{className:`p-3 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full`,children:(0,v.jsx)(f,{className:`w-8 h-8 text-white`})}),(0,v.jsxs)(`div`,{children:[(0,v.jsx)(`h1`,{className:`text-4xl font-bold text-gray-900`,children:`Multi-Company Management`}),(0,v.jsx)(`p`,{className:`text-gray-600 text-lg`,children:`Manage multiple companies and branches efficiently`})]})]}),(0,v.jsxs)(`div`,{className:`relative`,children:[(0,v.jsxs)(`button`,{onClick:()=>x(!b),className:`flex items-center space-x-2 bg-white px-4 py-2 rounded-lg shadow-md border hover:shadow-lg transition-all`,children:[(0,v.jsx)(f,{className:`w-5 h-5 text-blue-600`}),(0,v.jsx)(`span`,{className:`font-medium`,children:e.find(e=>e.id===r)?.name||`Select Company`}),(0,v.jsx)(i,{className:`w-4 h-4 text-gray-500`})]}),b&&(0,v.jsx)(`div`,{className:`absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl border z-50`,children:(0,v.jsxs)(`div`,{className:`p-4`,children:[(0,v.jsxs)(`div`,{className:`relative mb-3`,children:[(0,v.jsx)(o,{className:`w-4 h-4 absolute left-3 top-3 text-gray-400`}),(0,v.jsx)(`input`,{type:`text`,placeholder:`Search companies...`,value:S,onChange:e=>C(e.target.value),className:`w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent`})]}),(0,v.jsx)(`div`,{className:`flex space-x-2 mb-3`,children:[`all`,`parent`,`subsidiary`,`branch`].map(e=>(0,v.jsx)(`button`,{onClick:()=>T(e),className:`px-3 py-1 rounded-full text-xs font-medium ${w===e?`bg-blue-100 text-blue-700`:`bg-gray-100 text-gray-600 hover:bg-gray-200`}`,children:e.charAt(0).toUpperCase()+e.slice(1)},e))}),(0,v.jsx)(`div`,{className:`max-h-60 overflow-y-auto`,children:E.map(e=>(0,v.jsx)(`button`,{onClick:()=>{s(e.id),x(!1)},className:`w-full text-left p-3 hover:bg-gray-50 rounded-lg transition-colors`,children:(0,v.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,v.jsxs)(`div`,{children:[(0,v.jsx)(`p`,{className:`font-medium`,children:e.name}),(0,v.jsxs)(`p`,{className:`text-xs text-gray-500`,children:[e.type,` • `,e.location.city]})]}),(0,v.jsx)(`span`,{className:`px-2 py-1 rounded-full text-xs ${e.type===`parent`?`bg-purple-100 text-purple-700`:e.type===`subsidiary`?`bg-blue-100 text-blue-700`:`bg-green-100 text-green-700`}`,children:e.type})]})},e.id))})]})})]})]})}),(0,v.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-4 gap-6 mb-8`,children:[(0,v.jsx)(`div`,{className:`bg-white/60 backdrop-blur-sm rounded-xl p-6 shadow-lg border border-white/20`,children:(0,v.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,v.jsxs)(`div`,{children:[(0,v.jsx)(`p`,{className:`text-sm font-medium text-gray-600`,children:`Total Revenue`}),(0,v.jsxs)(`p`,{className:`text-2xl font-bold text-green-600`,children:[`RM `,(A.revenue/1e6).toFixed(1),`M`]})]}),(0,v.jsx)(d,{className:`w-8 h-8 text-green-600`})]})}),(0,v.jsx)(`div`,{className:`bg-white/60 backdrop-blur-sm rounded-xl p-6 shadow-lg border border-white/20`,children:(0,v.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,v.jsxs)(`div`,{children:[(0,v.jsx)(`p`,{className:`text-sm font-medium text-gray-600`,children:`Total Profit`}),(0,v.jsxs)(`p`,{className:`text-2xl font-bold text-blue-600`,children:[`RM `,(A.profit/1e6).toFixed(1),`M`]})]}),(0,v.jsx)(d,{className:`w-8 h-8 text-blue-600`})]})}),(0,v.jsx)(`div`,{className:`bg-white/60 backdrop-blur-sm rounded-xl p-6 shadow-lg border border-white/20`,children:(0,v.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,v.jsxs)(`div`,{children:[(0,v.jsx)(`p`,{className:`text-sm font-medium text-gray-600`,children:`Total Companies`}),(0,v.jsx)(`p`,{className:`text-2xl font-bold text-purple-600`,children:e.length})]}),(0,v.jsx)(f,{className:`w-8 h-8 text-purple-600`})]})}),(0,v.jsx)(`div`,{className:`bg-white/60 backdrop-blur-sm rounded-xl p-6 shadow-lg border border-white/20`,children:(0,v.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,v.jsxs)(`div`,{children:[(0,v.jsx)(`p`,{className:`text-sm font-medium text-gray-600`,children:`Total Employees`}),(0,v.jsx)(`p`,{className:`text-2xl font-bold text-orange-600`,children:A.employees})]}),(0,v.jsx)(a,{className:`w-8 h-8 text-orange-600`})]})})]}),(0,v.jsxs)(`div`,{className:`bg-white/60 backdrop-blur-sm rounded-xl shadow-lg border border-white/20 mb-8`,children:[(0,v.jsx)(`div`,{className:`border-b border-gray-200`,children:(0,v.jsx)(`nav`,{className:`flex space-x-8 px-6`,children:[{id:`overview`,label:`Company Overview`,icon:f},{id:`branches`,label:`Branch Management`,icon:n},{id:`consolidated`,label:`Consolidated Reports`,icon:d},{id:`intercompany`,label:`Inter-Company Transactions`,icon:m},{id:`settings`,label:`Group Settings`,icon:h}].map(e=>{let t=e.icon;return(0,v.jsxs)(`button`,{onClick:()=>p(e.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm ${u===e.id?`border-blue-500 text-blue-600`:`border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300`}`,children:[(0,v.jsx)(t,{className:`w-4 h-4`}),(0,v.jsx)(`span`,{children:e.label})]},e.id)})})}),(0,v.jsxs)(`div`,{className:`p-6`,children:[u===`overview`&&(0,v.jsxs)(`div`,{className:`space-y-6`,children:[(0,v.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,v.jsx)(`h3`,{className:`text-xl font-semibold`,children:`Company Structure`}),(0,v.jsxs)(`button`,{className:`bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2`,children:[(0,v.jsx)(g,{className:`w-4 h-4`}),(0,v.jsx)(`span`,{children:`Add Company`})]})]}),(0,v.jsx)(`div`,{className:`grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6`,children:e.map(e=>(0,v.jsxs)(`div`,{className:`bg-white rounded-lg p-6 shadow-sm border`,children:[(0,v.jsxs)(`div`,{className:`flex items-center justify-between mb-4`,children:[(0,v.jsxs)(`div`,{className:`flex items-center space-x-3`,children:[(0,v.jsx)(`div`,{className:`p-2 rounded-full ${e.type===`parent`?`bg-purple-100`:e.type===`subsidiary`?`bg-blue-100`:`bg-green-100`}`,children:(0,v.jsx)(f,{className:`w-5 h-5 ${e.type===`parent`?`text-purple-600`:e.type===`subsidiary`?`text-blue-600`:`text-green-600`}`})}),(0,v.jsxs)(`div`,{children:[(0,v.jsx)(`h4`,{className:`font-medium`,children:e.name}),(0,v.jsx)(`p`,{className:`text-sm text-gray-500 capitalize`,children:e.type})]})]}),(0,v.jsx)(`span`,{className:`px-2 py-1 rounded-full text-xs font-medium ${e.isActive?`text-green-600 bg-green-100`:`text-gray-600 bg-gray-100`}`,children:e.isActive?`Active`:`Inactive`})]}),(0,v.jsxs)(`div`,{className:`space-y-3 text-sm`,children:[(0,v.jsxs)(`div`,{className:`flex justify-between`,children:[(0,v.jsx)(`span`,{className:`text-gray-600`,children:`Revenue:`}),(0,v.jsxs)(`span`,{className:`font-medium`,children:[`RM `,(e.financialSummary.revenue/1e3).toFixed(0),`K`]})]}),(0,v.jsxs)(`div`,{className:`flex justify-between`,children:[(0,v.jsx)(`span`,{className:`text-gray-600`,children:`Profit:`}),(0,v.jsxs)(`span`,{className:`font-medium`,children:[`RM `,(e.financialSummary.profit/1e3).toFixed(0),`K`]})]}),(0,v.jsxs)(`div`,{className:`flex justify-between`,children:[(0,v.jsx)(`span`,{className:`text-gray-600`,children:`Employees:`}),(0,v.jsx)(`span`,{className:`font-medium`,children:e.financialSummary.employees})]}),(0,v.jsxs)(`div`,{className:`flex justify-between`,children:[(0,v.jsx)(`span`,{className:`text-gray-600`,children:`Branches:`}),(0,v.jsx)(`span`,{className:`font-medium`,children:e.branches.length})]})]}),(0,v.jsxs)(`div`,{className:`flex space-x-2 mt-4`,children:[(0,v.jsx)(`button`,{className:`flex-1 bg-blue-100 text-blue-700 py-2 px-3 rounded text-sm hover:bg-blue-200 transition-colors`,children:`View Details`}),(0,v.jsx)(`button`,{className:`flex-1 bg-gray-100 text-gray-700 py-2 px-3 rounded text-sm hover:bg-gray-200 transition-colors`,children:`Settings`})]})]},e.id))})]}),u===`branches`&&(0,v.jsx)(y,{}),u===`consolidated`&&(0,v.jsxs)(`div`,{className:`space-y-6`,children:[(0,v.jsx)(`h3`,{className:`text-xl font-semibold`,children:`Consolidated Financial Reports`}),(0,v.jsxs)(`div`,{className:`grid grid-cols-1 lg:grid-cols-2 gap-6`,children:[(0,v.jsxs)(`div`,{className:`bg-white rounded-lg p-6 shadow-sm border`,children:[(0,v.jsx)(`h4`,{className:`font-medium mb-4`,children:`Group Revenue by Company`}),(0,v.jsx)(`div`,{className:`space-y-3`,children:e.map(e=>(0,v.jsxs)(`div`,{className:`flex items-center justify-between p-3 bg-gray-50 rounded-lg`,children:[(0,v.jsxs)(`div`,{children:[(0,v.jsx)(`p`,{className:`font-medium`,children:e.name}),(0,v.jsx)(`p`,{className:`text-sm text-gray-500`,children:e.type})]}),(0,v.jsxs)(`div`,{className:`text-right`,children:[(0,v.jsxs)(`p`,{className:`font-bold`,children:[`RM `,(e.financialSummary.revenue/1e3).toFixed(0),`K`]}),(0,v.jsxs)(`p`,{className:`text-sm text-gray-500`,children:[(e.financialSummary.revenue/A.revenue*100).toFixed(1),`% of total`]})]})]},e.id))})]}),(0,v.jsxs)(`div`,{className:`bg-white rounded-lg p-6 shadow-sm border`,children:[(0,v.jsx)(`h4`,{className:`font-medium mb-4`,children:`Group Profit Margins`}),(0,v.jsx)(`div`,{className:`space-y-3`,children:e.map(e=>{let t=e.financialSummary.profit/e.financialSummary.revenue*100;return(0,v.jsxs)(`div`,{className:`flex items-center justify-between p-3 bg-gray-50 rounded-lg`,children:[(0,v.jsxs)(`div`,{children:[(0,v.jsx)(`p`,{className:`font-medium`,children:e.name}),(0,v.jsxs)(`p`,{className:`text-sm text-gray-500`,children:[`Profit: RM `,(e.financialSummary.profit/1e3).toFixed(0),`K`]})]}),(0,v.jsxs)(`div`,{className:`text-right`,children:[(0,v.jsxs)(`p`,{className:`font-bold ${t>=20?`text-green-600`:t>=10?`text-yellow-600`:`text-red-600`}`,children:[t.toFixed(1),`%`]}),(0,v.jsx)(`p`,{className:`text-xs text-gray-500`,children:`margin`})]})]},e.id)})})]})]}),(0,v.jsxs)(`div`,{className:`bg-white rounded-lg p-6 shadow-sm border`,children:[(0,v.jsx)(`h4`,{className:`font-medium mb-4`,children:`Consolidated Financial Summary`}),(0,v.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-3 gap-6`,children:[(0,v.jsxs)(`div`,{className:`text-center`,children:[(0,v.jsxs)(`p`,{className:`text-3xl font-bold text-green-600`,children:[`RM `,(A.revenue/1e6).toFixed(1),`M`]}),(0,v.jsx)(`p`,{className:`text-sm text-gray-600`,children:`Total Group Revenue`})]}),(0,v.jsxs)(`div`,{className:`text-center`,children:[(0,v.jsxs)(`p`,{className:`text-3xl font-bold text-blue-600`,children:[`RM `,(A.profit/1e6).toFixed(1),`M`]}),(0,v.jsx)(`p`,{className:`text-sm text-gray-600`,children:`Total Group Profit`})]}),(0,v.jsxs)(`div`,{className:`text-center`,children:[(0,v.jsxs)(`p`,{className:`text-3xl font-bold text-purple-600`,children:[(A.profit/A.revenue*100).toFixed(1),`%`]}),(0,v.jsx)(`p`,{className:`text-sm text-gray-600`,children:`Overall Profit Margin`})]})]})]})]}),u===`intercompany`&&(0,v.jsxs)(`div`,{className:`space-y-6`,children:[(0,v.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,v.jsx)(`h3`,{className:`text-xl font-semibold`,children:`Inter-Company Transactions`}),(0,v.jsxs)(`button`,{className:`bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2`,children:[(0,v.jsx)(g,{className:`w-4 h-4`}),(0,v.jsx)(`span`,{children:`New Transaction`})]})]}),(0,v.jsx)(`div`,{className:`space-y-4`,children:c.map(e=>(0,v.jsxs)(`div`,{className:`bg-white rounded-lg p-6 shadow-sm border`,children:[(0,v.jsxs)(`div`,{className:`flex items-center justify-between mb-4`,children:[(0,v.jsxs)(`div`,{className:`flex items-center space-x-3`,children:[(0,v.jsx)(m,{className:`w-5 h-5 text-blue-600`}),(0,v.jsxs)(`div`,{children:[(0,v.jsx)(`h4`,{className:`font-medium`,children:e.description}),(0,v.jsxs)(`p`,{className:`text-sm text-gray-500`,children:[k(e.fromCompanyId),` → `,k(e.toCompanyId)]})]})]}),(0,v.jsxs)(`div`,{className:`text-right`,children:[(0,v.jsxs)(`p`,{className:`text-xl font-bold`,children:[`RM `,e.amount.toLocaleString()]}),(0,v.jsx)(`span`,{className:`px-2 py-1 rounded-full text-xs font-medium ${O(e.status)}`,children:e.status})]})]}),(0,v.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-3 gap-4 text-sm`,children:[(0,v.jsxs)(`div`,{children:[(0,v.jsx)(`span`,{className:`text-gray-600`,children:`Transaction Type:`}),(0,v.jsx)(`p`,{className:`font-medium capitalize`,children:e.type})]}),(0,v.jsxs)(`div`,{children:[(0,v.jsx)(`span`,{className:`text-gray-600`,children:`Date:`}),(0,v.jsx)(`p`,{className:`font-medium`,children:e.date})]}),(0,v.jsxs)(`div`,{children:[(0,v.jsx)(`span`,{className:`text-gray-600`,children:`Approved By:`}),(0,v.jsx)(`p`,{className:`font-medium`,children:e.approvedBy||`Pending`})]})]}),e.status===`pending`&&(0,v.jsxs)(`div`,{className:`flex space-x-2 mt-4`,children:[(0,v.jsx)(`button`,{className:`bg-green-100 text-green-700 px-4 py-2 rounded text-sm hover:bg-green-200 transition-colors`,children:`Approve`}),(0,v.jsx)(`button`,{className:`bg-red-100 text-red-700 px-4 py-2 rounded text-sm hover:bg-red-200 transition-colors`,children:`Reject`}),(0,v.jsx)(`button`,{className:`bg-gray-100 text-gray-700 px-4 py-2 rounded text-sm hover:bg-gray-200 transition-colors`,children:`Edit`})]})]},e.id))})]}),u===`settings`&&(0,v.jsxs)(`div`,{className:`space-y-6`,children:[(0,v.jsx)(`h3`,{className:`text-xl font-semibold`,children:`Group Settings & Configuration`}),(0,v.jsxs)(`div`,{className:`grid grid-cols-1 lg:grid-cols-2 gap-6`,children:[(0,v.jsxs)(`div`,{className:`bg-white rounded-lg p-6 shadow-sm border`,children:[(0,v.jsx)(`h4`,{className:`font-medium mb-4`,children:`Company Hierarchy`}),(0,v.jsxs)(`div`,{className:`space-y-3`,children:[(0,v.jsxs)(`div`,{className:`p-3 bg-purple-50 rounded-lg border-l-4 border-purple-500`,children:[(0,v.jsx)(`p`,{className:`font-medium text-purple-900`,children:`Parent Company Settings`}),(0,v.jsx)(`p`,{className:`text-sm text-purple-700`,children:`Configure group-level policies and standards`}),(0,v.jsx)(`button`,{className:`mt-2 text-sm bg-purple-100 text-purple-700 px-3 py-1 rounded hover:bg-purple-200 transition-colors`,children:`Configure`})]}),(0,v.jsxs)(`div`,{className:`p-3 bg-blue-50 rounded-lg border-l-4 border-blue-500`,children:[(0,v.jsx)(`p`,{className:`font-medium text-blue-900`,children:`Subsidiary Management`}),(0,v.jsx)(`p`,{className:`text-sm text-blue-700`,children:`Manage subsidiary permissions and access`}),(0,v.jsx)(`button`,{className:`mt-2 text-sm bg-blue-100 text-blue-700 px-3 py-1 rounded hover:bg-blue-200 transition-colors`,children:`Manage`})]}),(0,v.jsxs)(`div`,{className:`p-3 bg-green-50 rounded-lg border-l-4 border-green-500`,children:[(0,v.jsx)(`p`,{className:`font-medium text-green-900`,children:`Branch Permissions`}),(0,v.jsx)(`p`,{className:`text-sm text-green-700`,children:`Set branch-level access and reporting`}),(0,v.jsx)(`button`,{className:`mt-2 text-sm bg-green-100 text-green-700 px-3 py-1 rounded hover:bg-green-200 transition-colors`,children:`Setup`})]})]})]}),(0,v.jsxs)(`div`,{className:`bg-white rounded-lg p-6 shadow-sm border`,children:[(0,v.jsx)(`h4`,{className:`font-medium mb-4`,children:`Consolidation Rules`}),(0,v.jsxs)(`div`,{className:`space-y-4`,children:[(0,v.jsxs)(`div`,{className:`flex items-center justify-between p-3 bg-gray-50 rounded-lg`,children:[(0,v.jsxs)(`div`,{children:[(0,v.jsx)(`p`,{className:`font-medium`,children:`Auto-Consolidation`}),(0,v.jsx)(`p`,{className:`text-sm text-gray-600`,children:`Automatically consolidate financial reports`})]}),(0,v.jsxs)(`label`,{className:`relative inline-flex items-center cursor-pointer`,children:[(0,v.jsx)(`input`,{type:`checkbox`,className:`sr-only peer`,defaultChecked:!0}),(0,v.jsx)(`div`,{className:`w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600`})]})]}),(0,v.jsxs)(`div`,{className:`flex items-center justify-between p-3 bg-gray-50 rounded-lg`,children:[(0,v.jsxs)(`div`,{children:[(0,v.jsx)(`p`,{className:`font-medium`,children:`Inter-Company Elimination`}),(0,v.jsx)(`p`,{className:`text-sm text-gray-600`,children:`Eliminate inter-company transactions in reports`})]}),(0,v.jsxs)(`label`,{className:`relative inline-flex items-center cursor-pointer`,children:[(0,v.jsx)(`input`,{type:`checkbox`,className:`sr-only peer`,defaultChecked:!0}),(0,v.jsx)(`div`,{className:`w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600`})]})]}),(0,v.jsxs)(`div`,{className:`flex items-center justify-between p-3 bg-gray-50 rounded-lg`,children:[(0,v.jsxs)(`div`,{children:[(0,v.jsx)(`p`,{className:`font-medium`,children:`Currency Conversion`}),(0,v.jsx)(`p`,{className:`text-sm text-gray-600`,children:`Auto-convert foreign currency transactions`})]}),(0,v.jsxs)(`label`,{className:`relative inline-flex items-center cursor-pointer`,children:[(0,v.jsx)(`input`,{type:`checkbox`,className:`sr-only peer`}),(0,v.jsx)(`div`,{className:`w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600`})]})]})]})]})]}),(0,v.jsxs)(`div`,{className:`bg-white rounded-lg p-6 shadow-sm border`,children:[(0,v.jsx)(`h4`,{className:`font-medium mb-4`,children:`Access Control & Permissions`}),(0,v.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-3 gap-4`,children:[(0,v.jsxs)(`div`,{className:`p-4 border rounded-lg`,children:[(0,v.jsx)(`h5`,{className:`font-medium mb-2`,children:`Group Admin`}),(0,v.jsxs)(`ul`,{className:`text-sm text-gray-600 space-y-1`,children:[(0,v.jsx)(`li`,{children:`• Full access to all companies`}),(0,v.jsx)(`li`,{children:`• Create/modify companies`}),(0,v.jsx)(`li`,{children:`• Manage inter-company transactions`}),(0,v.jsx)(`li`,{children:`• View consolidated reports`})]})]}),(0,v.jsxs)(`div`,{className:`p-4 border rounded-lg`,children:[(0,v.jsx)(`h5`,{className:`font-medium mb-2`,children:`Company Manager`}),(0,v.jsxs)(`ul`,{className:`text-sm text-gray-600 space-y-1`,children:[(0,v.jsx)(`li`,{children:`• Access to assigned company`}),(0,v.jsx)(`li`,{children:`• Manage company branches`}),(0,v.jsx)(`li`,{children:`• View company reports`}),(0,v.jsx)(`li`,{children:`• Limited inter-company access`})]})]}),(0,v.jsxs)(`div`,{className:`p-4 border rounded-lg`,children:[(0,v.jsx)(`h5`,{className:`font-medium mb-2`,children:`Branch User`}),(0,v.jsxs)(`ul`,{className:`text-sm text-gray-600 space-y-1`,children:[(0,v.jsx)(`li`,{children:`• Access to assigned branch only`}),(0,v.jsx)(`li`,{children:`• View branch transactions`}),(0,v.jsx)(`li`,{children:`• Create basic entries`}),(0,v.jsx)(`li`,{children:`• No inter-company access`})]})]})]})]})]})]})]})]})})};export{b as default};
//# sourceMappingURL=MultiCompanyManagement-C9Oy0fhM.js.map