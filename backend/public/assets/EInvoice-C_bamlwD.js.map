{"version":3,"file":"EInvoice-C_bamlwD.js","names":["EInvoicePage: React.FC<EInvoicePageProps>"],"sources":["../../src/services/einvoiceService.ts","../../src/pages/EInvoice.tsx"],"sourcesContent":["import api from './api'\r\n\r\nexport interface EInvoiceDoc {\r\n  id: string\r\n  issueDate: string\r\n  issueTime: string\r\n  invoiceType: '01' | '02' | '03' | '11' | '12'\r\n  invoiceNumber: string\r\n  currencyCode: string\r\n  \r\n  supplier: {\r\n    tin: string\r\n    idType: string\r\n    idValue: string\r\n    registrationName: string\r\n    businessRegistrationNumber?: string\r\n    email?: string\r\n    address: {\r\n      addressLine1: string\r\n      city: string\r\n      postcode: string\r\n      state: string\r\n      country: string\r\n    }\r\n  }\r\n  \r\n  buyer: {\r\n    tin?: string\r\n    idType: string\r\n    idValue: string\r\n    registrationName: string\r\n    email?: string\r\n    address: {\r\n      addressLine1: string\r\n      city: string\r\n      postcode: string\r\n      state: string\r\n      country: string\r\n    }\r\n  }\r\n  \r\n  invoiceLineItems: Array<{\r\n    classification: string\r\n    productName: string\r\n    quantity: number\r\n    unitPrice: number\r\n    measurement: string\r\n    totalExcludingTax: number\r\n    taxType: string\r\n    taxRate: number\r\n    taxAmount: number\r\n    totalIncludingTax: number\r\n  }>\r\n  \r\n  taxSummary: Array<{\r\n    taxType: string\r\n    taxableAmount: number\r\n    taxRate: number\r\n    taxAmount: number\r\n  }>\r\n  \r\n  totalExcludingTax: number\r\n  totalIncludingTax: number\r\n  totalTaxAmount: number\r\n  totalPayableAmount: number\r\n}\r\n\r\nexport interface SubmissionResult {\r\n  uuid: string\r\n  submissionUid: string\r\n  status: 'Valid' | 'Invalid' | 'Submitted' | 'Cancelled'\r\n  submissionDateTime: string\r\n}\r\n\r\nexport interface ValidationResult {\r\n  valid: boolean\r\n  errors?: string[]\r\n}\r\n\r\nclass EInvoiceService {\r\n  async getServiceInfo() {\r\n    const response = await api.get('/einvoice/service-info')\r\n    return response.data.data\r\n  }\r\n\r\n  async submitEInvoice(invoice: EInvoiceDoc): Promise<SubmissionResult> {\r\n    const response = await api.post('/einvoice/submit', invoice)\r\n    return response.data.data\r\n  }\r\n\r\n  async getInvoiceStatus(uuid: string) {\r\n    const response = await api.get(`/einvoice/status/${uuid}`)\r\n    return response.data.data\r\n  }\r\n\r\n  async validateInvoice(invoice: EInvoiceDoc): Promise<ValidationResult> {\r\n    const response = await api.post('/einvoice/validate', invoice)\r\n    return response.data.data\r\n  }\r\n\r\n  async getSampleInvoice(): Promise<EInvoiceDoc> {\r\n    const response = await api.get('/einvoice/sample')\r\n    return response.data.data\r\n  }\r\n\r\n  getMalaysianStates() {\r\n    return [\r\n      { code: '01', name: 'Johor' },\r\n      { code: '02', name: 'Kedah' },\r\n      { code: '03', name: 'Kelantan' },\r\n      { code: '04', name: 'Melaka' },\r\n      { code: '05', name: 'Negeri Sembilan' },\r\n      { code: '06', name: 'Pahang' },\r\n      { code: '07', name: 'Pulau Pinang' },\r\n      { code: '08', name: 'Perak' },\r\n      { code: '09', name: 'Perlis' },\r\n      { code: '10', name: 'Selangor' },\r\n      { code: '11', name: 'Terengganu' },\r\n      { code: '12', name: 'Sabah' },\r\n      { code: '13', name: 'Sarawak' },\r\n      { code: '14', name: 'W.P. Kuala Lumpur' },\r\n      { code: '15', name: 'W.P. Labuan' },\r\n      { code: '16', name: 'W.P. Putrajaya' }\r\n    ]\r\n  }\r\n\r\n  formatCurrency(amount: number, currency = 'MYR'): string {\r\n    return new Intl.NumberFormat('ms-MY', {\r\n      style: 'currency',\r\n      currency: currency\r\n    }).format(amount)\r\n  }\r\n}\r\n\r\nexport const einvoiceService = new EInvoiceService()\r\nexport default einvoiceService","import React, { useState, useEffect } from 'react'\r\nimport { \r\n  FileText, \r\n  Send, \r\n  CheckCircle, \r\n  AlertCircle, \r\n  X, \r\n  Plus,\r\n  Download,\r\n  Eye,\r\n  Calendar,\r\n  Building2,\r\n  Users,\r\n  DollarSign,\r\n  Upload,\r\n  RefreshCw,\r\n  Shield,\r\n  Zap\r\n} from 'lucide-react'\r\nimport einvoiceService from '../services/einvoiceService'\r\nimport type { EInvoiceDoc, SubmissionResult } from '../services/einvoiceService'\r\n\r\ninterface EInvoicePageProps {\r\n  className?: string\r\n}\r\n\r\nconst EInvoicePage: React.FC<EInvoicePageProps> = ({ className = '' }) => {\r\n  const [einvoices, setEInvoices] = useState<Array<EInvoiceDoc & { submissionResult?: SubmissionResult }>>([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [submitting, setSubmitting] = useState<string | null>(null)\r\n  const [showViewModal, setShowViewModal] = useState(false)\r\n  const [selectedInvoice, setSelectedInvoice] = useState<EInvoiceDoc | null>(null)\r\n  const [serviceInfo, setServiceInfo] = useState<{\r\n    environment: string\r\n    authenticated: boolean\r\n    taxpayerTin: string\r\n  } | null>(null)\r\n  const [activeTab, setActiveTab] = useState<'dashboard' | 'manage' | 'create' | 'validate'>('dashboard')\r\n  const [validationResults, setValidationResults] = useState<{\r\n    valid: boolean\r\n    errors?: string[]\r\n  } | null>(null)\r\n\r\n  useEffect(() => {\r\n    loadData()\r\n  }, [])\r\n\r\n  const loadData = async () => {\r\n    try {\r\n      setLoading(true)\r\n      const [serviceData, sampleInvoice] = await Promise.all([\r\n        einvoiceService.getServiceInfo(),\r\n        einvoiceService.getSampleInvoice()\r\n      ])\r\n      \r\n      setServiceInfo(serviceData)\r\n      // For demo, show the sample invoice as submitted\r\n      setEInvoices([{\r\n        ...sampleInvoice,\r\n        submissionResult: {\r\n          uuid: 'DEMO-UUID-123',\r\n          submissionUid: 'SUB-DEMO-123',\r\n          status: 'Valid',\r\n          submissionDateTime: new Date().toISOString()\r\n        }\r\n      }])\r\n    } catch (error) {\r\n      console.error('Failed to load E-Invoice data:', error)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleSubmitEInvoice = async (invoice: EInvoiceDoc) => {\r\n    try {\r\n      setSubmitting(invoice.id)\r\n      const result = await einvoiceService.submitEInvoice(invoice)\r\n      \r\n      // Update the invoice with submission result\r\n      setEInvoices(prev => prev.map(inv => \r\n        inv.id === invoice.id \r\n          ? { ...inv, submissionResult: result }\r\n          : inv\r\n      ))\r\n    } catch (error) {\r\n      console.error('Failed to submit E-Invoice:', error)\r\n    } finally {\r\n      setSubmitting(null)\r\n    }\r\n  }\r\n\r\n  const handleValidateInvoice = async (invoice: EInvoiceDoc) => {\r\n    try {\r\n      setLoading(true)\r\n      const result = await einvoiceService.validateInvoice(invoice)\r\n      setValidationResults(result)\r\n    } catch (error) {\r\n      console.error('Failed to validate E-Invoice:', error)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const formatCurrency = (amount: number) => {\r\n    return new Intl.NumberFormat('ms-MY', {\r\n      style: 'currency',\r\n      currency: 'MYR'\r\n    }).format(amount)\r\n  }\r\n\r\n  const getStatusIcon = (status: string) => {\r\n    switch (status) {\r\n      case 'Valid':\r\n        return <CheckCircle className=\"w-5 h-5 text-green-500\" />\r\n      case 'Invalid':\r\n        return <AlertCircle className=\"w-5 h-5 text-red-500\" />\r\n      case 'Submitted':\r\n        return <Send className=\"w-5 h-5 text-blue-500\" />\r\n      default:\r\n        return <FileText className=\"w-5 h-5 text-gray-500\" />\r\n    }\r\n  }\r\n\r\n  const getStatusColor = (status: string) => {\r\n    switch (status) {\r\n      case 'Valid':\r\n        return 'bg-green-100 text-green-800'\r\n      case 'Invalid':\r\n        return 'bg-red-100 text-red-800'\r\n      case 'Submitted':\r\n        return 'bg-blue-100 text-blue-800'\r\n      default:\r\n        return 'bg-gray-100 text-gray-800'\r\n    }\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50 p-6\">\r\n        <div className=\"max-w-7xl mx-auto\">\r\n          <div className=\"animate-pulse\">\r\n            <div className=\"h-8 bg-gray-200 rounded mb-6 w-64\"></div>\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n              {[1, 2, 3].map(i => (\r\n                <div key={i} className=\"h-32 bg-gray-200 rounded-xl\"></div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className={`min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50 p-6 ${className}`}>\r\n      <div className=\"max-w-7xl mx-auto\">\r\n        {/* Header */}\r\n        <div className=\"mb-8\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <h1 className=\"text-3xl font-bold text-gray-800 mb-2\">\r\n                🇲🇾 LHDN E-Invoice Management\r\n              </h1>\r\n              <p className=\"text-gray-600\">\r\n                Manage Malaysian E-Invoices with LHDN compliance\r\n              </p>\r\n            </div>\r\n            <div className=\"flex items-center gap-4\">\r\n              <div className=\"flex items-center gap-2 bg-white/70 backdrop-blur-sm px-4 py-2 rounded-lg border border-white/20\">\r\n                <Shield className=\"w-4 h-4 text-green-500\" />\r\n                <span className=\"text-sm font-medium text-gray-700\">\r\n                  {serviceInfo?.environment === 'sandbox' ? 'Sandbox Mode' : 'Production'}\r\n                </span>\r\n              </div>\r\n              <button\r\n                onClick={() => setActiveTab('create')}\r\n                className=\"flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-xl hover:bg-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl\"\r\n              >\r\n                <Plus className=\"w-5 h-5\" />\r\n                Create E-Invoice\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Tab Navigation */}\r\n        <div className=\"mb-8\">\r\n          <div className=\"flex space-x-1 bg-white/70 backdrop-blur-sm p-1 rounded-xl border border-white/20 shadow-lg\">\r\n            {[\r\n              { id: 'dashboard', label: 'Dashboard', icon: DollarSign },\r\n              { id: 'manage', label: 'Manage E-Invoices', icon: FileText },\r\n              { id: 'create', label: 'Create New', icon: Plus },\r\n              { id: 'validate', label: 'Validate', icon: CheckCircle }\r\n            ].map(tab => (\r\n              <button\r\n                key={tab.id}\r\n                onClick={() => setActiveTab(tab.id as typeof activeTab)}\r\n                className={`flex items-center gap-2 px-6 py-3 rounded-lg font-medium transition-all duration-200 ${\r\n                  activeTab === tab.id\r\n                    ? 'bg-white text-blue-600 shadow-md'\r\n                    : 'text-gray-600 hover:text-blue-600 hover:bg-white/50'\r\n                }`}\r\n              >\r\n                <tab.icon className=\"w-4 h-4\" />\r\n                {tab.label}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Dashboard Tab */}\r\n        {activeTab === 'dashboard' && (\r\n          <div className=\"space-y-6\">\r\n            {/* Stats Cards */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n              <div className=\"bg-white/70 backdrop-blur-sm p-6 rounded-xl border border-white/20 shadow-lg\">\r\n                <div className=\"flex items-center justify-between mb-4\">\r\n                  <div className=\"p-3 bg-blue-100 rounded-lg\">\r\n                    <FileText className=\"w-6 h-6 text-blue-600\" />\r\n                  </div>\r\n                  <span className=\"text-sm text-gray-500\">Total E-Invoices</span>\r\n                </div>\r\n                <div className=\"text-2xl font-bold text-gray-800\">{einvoices.length}</div>\r\n              </div>\r\n\r\n              <div className=\"bg-white/70 backdrop-blur-sm p-6 rounded-xl border border-white/20 shadow-lg\">\r\n                <div className=\"flex items-center justify-between mb-4\">\r\n                  <div className=\"p-3 bg-green-100 rounded-lg\">\r\n                    <CheckCircle className=\"w-6 h-6 text-green-600\" />\r\n                  </div>\r\n                  <span className=\"text-sm text-gray-500\">Valid</span>\r\n                </div>\r\n                <div className=\"text-2xl font-bold text-gray-800\">\r\n                  {einvoices.filter(inv => inv.submissionResult?.status === 'Valid').length}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"bg-white/70 backdrop-blur-sm p-6 rounded-xl border border-white/20 shadow-lg\">\r\n                <div className=\"flex items-center justify-between mb-4\">\r\n                  <div className=\"p-3 bg-purple-100 rounded-lg\">\r\n                    <DollarSign className=\"w-6 h-6 text-purple-600\" />\r\n                  </div>\r\n                  <span className=\"text-sm text-gray-500\">Total Value</span>\r\n                </div>\r\n                <div className=\"text-2xl font-bold text-gray-800\">\r\n                  {formatCurrency(einvoices.reduce((sum, inv) => sum + inv.totalPayableAmount, 0))}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"bg-white/70 backdrop-blur-sm p-6 rounded-xl border border-white/20 shadow-lg\">\r\n                <div className=\"flex items-center justify-between mb-4\">\r\n                  <div className=\"p-3 bg-orange-100 rounded-lg\">\r\n                    <Zap className=\"w-6 h-6 text-orange-600\" />\r\n                  </div>\r\n                  <span className=\"text-sm text-gray-500\">LHDN Status</span>\r\n                </div>\r\n                <div className=\"text-sm font-medium text-green-600\">Connected</div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Service Info */}\r\n            <div className=\"bg-white/70 backdrop-blur-sm p-6 rounded-xl border border-white/20 shadow-lg\">\r\n              <h3 className=\"text-xl font-semibold text-gray-800 mb-4\">LHDN Service Information</h3>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n                  <div className=\"text-sm text-gray-500 mb-1\">Environment</div>\r\n                  <div className=\"font-semibold text-gray-800\">\r\n                    {serviceInfo?.environment === 'sandbox' ? '🧪 Sandbox' : '🏢 Production'}\r\n                  </div>\r\n                </div>\r\n                <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n                  <div className=\"text-sm text-gray-500 mb-1\">Taxpayer TIN</div>\r\n                  <div className=\"font-semibold text-gray-800\">{serviceInfo?.taxpayerTin}</div>\r\n                </div>\r\n                <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n                  <div className=\"text-sm text-gray-500 mb-1\">Authentication</div>\r\n                  <div className=\"font-semibold text-green-600\">\r\n                    {serviceInfo?.authenticated ? '✅ Connected' : '❌ Disconnected'}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Recent E-Invoices */}\r\n            <div className=\"bg-white/70 backdrop-blur-sm p-6 rounded-xl border border-white/20 shadow-lg\">\r\n              <h3 className=\"text-xl font-semibold text-gray-800 mb-6\">Recent E-Invoices</h3>\r\n              {einvoices.length === 0 ? (\r\n                <div className=\"text-center py-12\">\r\n                  <FileText className=\"w-16 h-16 text-gray-300 mx-auto mb-4\" />\r\n                  <p className=\"text-gray-500 mb-4\">No E-Invoices created yet</p>\r\n                  <button\r\n                    onClick={() => setActiveTab('create')}\r\n                    className=\"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors\"\r\n                  >\r\n                    Create Your First E-Invoice\r\n                  </button>\r\n                </div>\r\n              ) : (\r\n                <div className=\"space-y-4\">\r\n                  {einvoices.slice(0, 5).map(invoice => (\r\n                    <div key={invoice.id} className=\"bg-white p-4 rounded-lg border border-gray-200 hover:shadow-md transition-shadow\">\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <div className=\"flex items-center gap-4\">\r\n                          <div className=\"p-2 bg-blue-100 rounded-lg\">\r\n                            <FileText className=\"w-5 h-5 text-blue-600\" />\r\n                          </div>\r\n                          <div>\r\n                            <h4 className=\"font-semibold text-gray-800\">{invoice.invoiceNumber}</h4>\r\n                            <p className=\"text-sm text-gray-500\">\r\n                              {invoice.buyer.registrationName} • {new Date(invoice.issueDate).toLocaleDateString()}\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"flex items-center gap-4\">\r\n                          <div className=\"text-right\">\r\n                            <div className=\"font-semibold text-gray-800\">\r\n                              {formatCurrency(invoice.totalPayableAmount)}\r\n                            </div>\r\n                            {invoice.submissionResult && (\r\n                              <div className={`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${getStatusColor(invoice.submissionResult.status)}`}>\r\n                                {getStatusIcon(invoice.submissionResult.status)}\r\n                                {invoice.submissionResult.status}\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                          <button\r\n                            onClick={() => {\r\n                              setSelectedInvoice(invoice)\r\n                              setShowViewModal(true)\r\n                            }}\r\n                            className=\"text-blue-600 hover:text-blue-700 transition-colors\"\r\n                          >\r\n                            <Eye className=\"w-5 h-5\" />\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Manage Tab */}\r\n        {activeTab === 'manage' && (\r\n          <div className=\"bg-white/70 backdrop-blur-sm p-6 rounded-xl border border-white/20 shadow-lg\">\r\n            <div className=\"flex items-center justify-between mb-6\">\r\n              <h3 className=\"text-xl font-semibold text-gray-800\">E-Invoice Management</h3>\r\n              <div className=\"flex gap-2\">\r\n                <button\r\n                  onClick={loadData}\r\n                  className=\"flex items-center gap-2 text-blue-600 hover:text-blue-700 transition-colors\"\r\n                >\r\n                  <RefreshCw className=\"w-4 h-4\" />\r\n                  Refresh\r\n                </button>\r\n                <button className=\"flex items-center gap-2 text-green-600 hover:text-green-700 transition-colors\">\r\n                  <Download className=\"w-4 h-4\" />\r\n                  Export\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"space-y-4\">\r\n              {einvoices.map(invoice => (\r\n                <div key={invoice.id} className=\"bg-white p-6 rounded-lg border border-gray-200 hover:shadow-md transition-shadow\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <div className=\"flex items-center gap-4\">\r\n                      <div className=\"p-3 bg-blue-100 rounded-lg\">\r\n                        <FileText className=\"w-6 h-6 text-blue-600\" />\r\n                      </div>\r\n                      <div>\r\n                        <h4 className=\"text-lg font-semibold text-gray-800\">{invoice.invoiceNumber}</h4>\r\n                        <div className=\"flex items-center gap-4 text-sm text-gray-500 mt-1\">\r\n                          <span className=\"flex items-center gap-1\">\r\n                            <Building2 className=\"w-4 h-4\" />\r\n                            {invoice.supplier.registrationName}\r\n                          </span>\r\n                          <span className=\"flex items-center gap-1\">\r\n                            <Users className=\"w-4 h-4\" />\r\n                            {invoice.buyer.registrationName}\r\n                          </span>\r\n                          <span className=\"flex items-center gap-1\">\r\n                            <Calendar className=\"w-4 h-4\" />\r\n                            {new Date(invoice.issueDate).toLocaleDateString()}\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-4\">\r\n                      <div className=\"text-right\">\r\n                        <div className=\"text-lg font-bold text-gray-800\">\r\n                          {formatCurrency(invoice.totalPayableAmount)}\r\n                        </div>\r\n                        {invoice.submissionResult ? (\r\n                          <div className={`inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium ${getStatusColor(invoice.submissionResult.status)}`}>\r\n                            {getStatusIcon(invoice.submissionResult.status)}\r\n                            {invoice.submissionResult.status}\r\n                          </div>\r\n                        ) : (\r\n                          <div className=\"text-sm text-gray-500\">Not submitted</div>\r\n                        )}\r\n                      </div>\r\n                      <div className=\"flex items-center gap-2\">\r\n                        {!invoice.submissionResult && (\r\n                          <button\r\n                            onClick={() => handleSubmitEInvoice(invoice)}\r\n                            disabled={submitting === invoice.id}\r\n                            className=\"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50\"\r\n                          >\r\n                            {submitting === invoice.id ? (\r\n                              <RefreshCw className=\"w-4 h-4 animate-spin\" />\r\n                            ) : (\r\n                              <Send className=\"w-4 h-4\" />\r\n                            )}\r\n                            Submit\r\n                          </button>\r\n                        )}\r\n                        <button\r\n                          onClick={() => {\r\n                            setSelectedInvoice(invoice)\r\n                            setShowViewModal(true)\r\n                          }}\r\n                          className=\"text-gray-600 hover:text-gray-700 transition-colors\"\r\n                        >\r\n                          <Eye className=\"w-5 h-5\" />\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Create Tab */}\r\n        {activeTab === 'create' && (\r\n          <div className=\"bg-white/70 backdrop-blur-sm p-6 rounded-xl border border-white/20 shadow-lg\">\r\n            <h3 className=\"text-xl font-semibold text-gray-800 mb-6\">Create New E-Invoice</h3>\r\n            \r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <div className=\"bg-white p-6 rounded-lg border border-gray-200\">\r\n                <h4 className=\"font-semibold text-gray-800 mb-4\">Quick Actions</h4>\r\n                <div className=\"space-y-3\">\r\n                  <button\r\n                    onClick={async () => {\r\n                      const sample = await einvoiceService.getSampleInvoice()\r\n                      setSelectedInvoice(sample)\r\n                      setActiveTab('create')\r\n                    }}\r\n                    className=\"w-full flex items-center gap-3 p-4 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 transition-colors\"\r\n                  >\r\n                    <Plus className=\"w-5 h-5 text-blue-600\" />\r\n                    <span className=\"font-medium text-blue-600\">Create from Template</span>\r\n                  </button>\r\n                  \r\n                  <button className=\"w-full flex items-center gap-3 p-4 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 transition-colors\">\r\n                    <Upload className=\"w-5 h-5 text-green-600\" />\r\n                    <span className=\"font-medium text-green-600\">Import from File</span>\r\n                  </button>\r\n                  \r\n                  <button className=\"w-full flex items-center gap-3 p-4 bg-purple-50 border border-purple-200 rounded-lg hover:bg-purple-100 transition-colors\">\r\n                    <FileText className=\"w-5 h-5 text-purple-600\" />\r\n                    <span className=\"font-medium text-purple-600\">Convert Existing Invoice</span>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"bg-white p-6 rounded-lg border border-gray-200\">\r\n                <h4 className=\"font-semibold text-gray-800 mb-4\">Malaysian E-Invoice Requirements</h4>\r\n                <div className=\"space-y-3 text-sm text-gray-600\">\r\n                  <div className=\"flex items-start gap-2\">\r\n                    <CheckCircle className=\"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0\" />\r\n                    <span>Valid Malaysian TIN for supplier and buyer</span>\r\n                  </div>\r\n                  <div className=\"flex items-start gap-2\">\r\n                    <CheckCircle className=\"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0\" />\r\n                    <span>Complete business registration details</span>\r\n                  </div>\r\n                  <div className=\"flex items-start gap-2\">\r\n                    <CheckCircle className=\"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0\" />\r\n                    <span>Proper tax classification (SST/GST/Exempt)</span>\r\n                  </div>\r\n                  <div className=\"flex items-start gap-2\">\r\n                    <CheckCircle className=\"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0\" />\r\n                    <span>Malaysian Ringgit (MYR) as primary currency</span>\r\n                  </div>\r\n                  <div className=\"flex items-start gap-2\">\r\n                    <CheckCircle className=\"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0\" />\r\n                    <span>LHDN-compliant XML structure</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Validate Tab */}\r\n        {activeTab === 'validate' && (\r\n          <div className=\"bg-white/70 backdrop-blur-sm p-6 rounded-xl border border-white/20 shadow-lg\">\r\n            <h3 className=\"text-xl font-semibold text-gray-800 mb-6\">E-Invoice Validation</h3>\r\n            \r\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n              <div className=\"space-y-4\">\r\n                <div className=\"bg-white p-6 rounded-lg border border-gray-200\">\r\n                  <h4 className=\"font-semibold text-gray-800 mb-4\">Validate E-Invoice</h4>\r\n                  <div className=\"space-y-3\">\r\n                    {einvoices.map(invoice => (\r\n                      <div key={invoice.id} className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\r\n                        <div>\r\n                          <div className=\"font-medium text-gray-800\">{invoice.invoiceNumber}</div>\r\n                          <div className=\"text-sm text-gray-500\">{invoice.buyer.registrationName}</div>\r\n                        </div>\r\n                        <button\r\n                          onClick={() => handleValidateInvoice(invoice)}\r\n                          className=\"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors\"\r\n                        >\r\n                          <CheckCircle className=\"w-4 h-4\" />\r\n                          Validate\r\n                        </button>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-4\">\r\n                {validationResults && (\r\n                  <div className=\"bg-white p-6 rounded-lg border border-gray-200\">\r\n                    <h4 className=\"font-semibold text-gray-800 mb-4\">Validation Results</h4>\r\n                    <div className={`p-4 rounded-lg ${validationResults.valid ? 'bg-green-50 border border-green-200' : 'bg-red-50 border border-red-200'}`}>\r\n                      <div className=\"flex items-center gap-2 mb-3\">\r\n                        {validationResults.valid ? (\r\n                          <CheckCircle className=\"w-5 h-5 text-green-500\" />\r\n                        ) : (\r\n                          <AlertCircle className=\"w-5 h-5 text-red-500\" />\r\n                        )}\r\n                        <span className={`font-medium ${validationResults.valid ? 'text-green-800' : 'text-red-800'}`}>\r\n                          {validationResults.valid ? 'Validation Passed' : 'Validation Failed'}\r\n                        </span>\r\n                      </div>\r\n                      {validationResults.errors && validationResults.errors.length > 0 && (\r\n                        <div className=\"space-y-2\">\r\n                          <div className=\"text-sm font-medium text-red-700\">Errors:</div>\r\n                          {validationResults.errors.map((error: string, index: number) => (\r\n                            <div key={index} className=\"text-sm text-red-600\">• {error}</div>\r\n                          ))}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* View Modal */}\r\n        {showViewModal && selectedInvoice && (\r\n          <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\r\n            <div className=\"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto\">\r\n              <div className=\"p-6 border-b border-gray-200\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <h2 className=\"text-xl font-semibold text-gray-800\">E-Invoice Details</h2>\r\n                  <button\r\n                    onClick={() => setShowViewModal(false)}\r\n                    className=\"text-gray-400 hover:text-gray-600 transition-colors\"\r\n                  >\r\n                    <X className=\"w-6 h-6\" />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"p-6\">\r\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n                  <div className=\"space-y-4\">\r\n                    <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n                      <h3 className=\"font-semibold text-gray-800 mb-3\">Invoice Information</h3>\r\n                      <div className=\"space-y-2 text-sm\">\r\n                        <div><span className=\"font-medium\">Number:</span> {selectedInvoice.invoiceNumber}</div>\r\n                        <div><span className=\"font-medium\">Date:</span> {new Date(selectedInvoice.issueDate).toLocaleDateString()}</div>\r\n                        <div><span className=\"font-medium\">Type:</span> {selectedInvoice.invoiceType}</div>\r\n                        <div><span className=\"font-medium\">Currency:</span> {selectedInvoice.currencyCode}</div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n                      <h3 className=\"font-semibold text-gray-800 mb-3\">Supplier</h3>\r\n                      <div className=\"space-y-2 text-sm\">\r\n                        <div><span className=\"font-medium\">Name:</span> {selectedInvoice.supplier.registrationName}</div>\r\n                        <div><span className=\"font-medium\">TIN:</span> {selectedInvoice.supplier.tin}</div>\r\n                        <div><span className=\"font-medium\">Address:</span> {selectedInvoice.supplier.address.addressLine1}</div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n                      <h3 className=\"font-semibold text-gray-800 mb-3\">Buyer</h3>\r\n                      <div className=\"space-y-2 text-sm\">\r\n                        <div><span className=\"font-medium\">Name:</span> {selectedInvoice.buyer.registrationName}</div>\r\n                        <div><span className=\"font-medium\">ID:</span> {selectedInvoice.buyer.idValue}</div>\r\n                        <div><span className=\"font-medium\">Address:</span> {selectedInvoice.buyer.address.addressLine1}</div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"space-y-4\">\r\n                    <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n                      <h3 className=\"font-semibold text-gray-800 mb-3\">Line Items</h3>\r\n                      <div className=\"space-y-3\">\r\n                        {selectedInvoice.invoiceLineItems.map((item, index) => (\r\n                          <div key={index} className=\"bg-white p-3 rounded border\">\r\n                            <div className=\"font-medium text-gray-800\">{item.productName}</div>\r\n                            <div className=\"text-sm text-gray-600\">\r\n                              {item.quantity} × {formatCurrency(item.unitPrice)} = {formatCurrency(item.totalIncludingTax)}\r\n                            </div>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n                      <h3 className=\"font-semibold text-gray-800 mb-3\">Totals</h3>\r\n                      <div className=\"space-y-2 text-sm\">\r\n                        <div className=\"flex justify-between\">\r\n                          <span>Subtotal:</span>\r\n                          <span>{formatCurrency(selectedInvoice.totalExcludingTax)}</span>\r\n                        </div>\r\n                        <div className=\"flex justify-between\">\r\n                          <span>Tax:</span>\r\n                          <span>{formatCurrency(selectedInvoice.totalTaxAmount)}</span>\r\n                        </div>\r\n                        <div className=\"flex justify-between font-semibold border-t pt-2\">\r\n                          <span>Total:</span>\r\n                          <span>{formatCurrency(selectedInvoice.totalPayableAmount)}</span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default EInvoicePage"],"mappings":"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"}