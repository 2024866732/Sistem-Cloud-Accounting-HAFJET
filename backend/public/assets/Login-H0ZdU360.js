import{r as e}from"./rolldown-runtime-DGruFWvd.js";import{_ as t}from"./charts-CsPrSeQA.js";import{Ot as n,n as r,xt as i}from"./vendor-C1UjBRMx.js";import{t as a}from"./index-79LI_bQh.js";var o=e(t()),s=e(r());function c(){let[e,t]=(0,o.useState)({email:`admin@hafjet.com`,password:`admin123`}),[r,c]=(0,o.useState)(!1),l=n();return(0,s.jsx)(`div`,{className:`min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4`,children:(0,s.jsx)(`div`,{className:`max-w-md w-full`,children:(0,s.jsxs)(`div`,{className:`bg-white/80 backdrop-blur-lg rounded-3xl shadow-2xl p-8 border border-white/50`,children:[(0,s.jsxs)(`div`,{className:`text-center mb-8`,children:[(0,s.jsx)(`h1`,{className:`text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent`,children:`ðŸ‡²ðŸ‡¾ HAFJET Cloud Accounting System`}),(0,s.jsx)(`p`,{className:`text-gray-600 mt-2`,children:`Sistem Kewangan Malaysia`})]}),(0,s.jsxs)(`form`,{onSubmit:async t=>{t.preventDefault(),c(!0);try{console.log(`ðŸ”„ Attempting backend authentication...`);try{let t=await fetch(`http://localhost:3001/api/auth/login`,{method:`POST`,headers:{"Content-Type":`application/json`},body:JSON.stringify({email:e.email,password:e.password})});if(t.ok){let e=await t.json();if(console.log(`âœ… Backend authentication successful:`,e),e.success){localStorage.setItem(`authToken`,e.data.token),localStorage.setItem(`user`,JSON.stringify(e.data.user)),a.getState().setUser(e.data.user),i.success(`Login berjaya melalui backend! Selamat datang ke HAFJET Cloud Accounting System! ðŸ‡²ðŸ‡¾`),l(`/dashboard`);return}}else console.log(`âŒ Backend authentication failed:`,t.status)}catch(e){console.log(`ðŸ”„ Backend connection failed, falling back to mock authentication:`,e)}if(e.email===`admin@hafjet.com`&&e.password===`admin123`||e.email===`admin`&&e.password===`password123`){console.log(`âœ… Using mock authentication`);let t={id:`1`,email:e.email,name:`Administrator`,role:`admin`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};localStorage.setItem(`authToken`,`mock-jwt-token-hafjet-bukku`),localStorage.setItem(`user`,JSON.stringify(t)),a.getState().setUser(t),i.success(`Login berjaya dengan mock! Selamat datang ke HAFJET Cloud Accounting System! ðŸ‡²ðŸ‡¾`),l(`/dashboard`)}else i.error(`Email atau password tidak betul. Sila cuba lagi.`)}catch(e){console.error(`Login error:`,e),i.error(`Ralat sistem. Sila cuba lagi.`)}finally{c(!1)}},className:`space-y-6`,children:[(0,s.jsxs)(`div`,{children:[(0,s.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Email`}),(0,s.jsx)(`input`,{type:`email`,value:e.email,onChange:n=>t({...e,email:n.target.value}),className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent`,required:!0})]}),(0,s.jsxs)(`div`,{children:[(0,s.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Password`}),(0,s.jsx)(`input`,{type:`password`,value:e.password,onChange:n=>t({...e,password:n.target.value}),className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent`,required:!0})]}),(0,s.jsx)(`button`,{type:`submit`,disabled:r,className:`w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 rounded-xl hover:shadow-lg transition-all duration-300 disabled:opacity-50`,children:r?`Memuat...`:`Log Masuk`})]}),(0,s.jsx)(`p`,{className:`text-center text-sm text-gray-600 mt-6`,children:`Demo: admin@hafjet.com / admin123`})]})})})}export{c as default};
//# sourceMappingURL=Login-H0ZdU360.js.map