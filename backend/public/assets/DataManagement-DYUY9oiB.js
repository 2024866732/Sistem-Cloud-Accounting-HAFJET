import{r as e}from"./rolldown-runtime-DGruFWvd.js";import{_ as t}from"./charts-CsPrSeQA.js";import{B as n,G as r,V as i,d as a,ht as o,n as s,q as c,tt as l,w as u,x as d}from"./vendor-C1UjBRMx.js";var f=e(t()),p=e(s()),m=()=>{let[e,t]=(0,f.useState)(`export`),[s,m]=(0,f.useState)([]),[h,g]=(0,f.useState)([]),[_,v]=(0,f.useState)([]),[y,b]=(0,f.useState)(!0),[x,S]=(0,f.useState)(``),[C,w]=(0,f.useState)({start:``,end:``}),[T,E]=(0,f.useState)(`excel`);(0,f.useEffect)(()=>{(async()=>{b(!0),await new Promise(e=>setTimeout(e,1e3)),m([{id:`1`,name:`Complete Financial Report`,description:`Comprehensive financial data including P&L, balance sheet, and cash flow`,type:`excel`,category:`reports`,size:`2.5 MB`,lastUsed:new Date(Date.now()-2880*60*1e3),downloadCount:45},{id:`2`,name:`Monthly Transactions`,description:`All transaction records for specified month with categories`,type:`csv`,category:`transactions`,size:`1.2 MB`,lastUsed:new Date(Date.now()-7200*60*1e3),downloadCount:28},{id:`3`,name:`Invoice Register`,description:`Complete invoice listing with payment status and amounts`,type:`excel`,category:`invoices`,size:`3.1 MB`,lastUsed:new Date(Date.now()-1440*60*1e3),downloadCount:67},{id:`4`,name:`Customer Directory`,description:`Customer contact information and payment history`,type:`csv`,category:`customers`,size:`0.8 MB`,lastUsed:new Date(Date.now()-10080*60*1e3),downloadCount:23},{id:`5`,name:`SST Compliance Report`,description:`Malaysian SST report with tax calculations and summaries`,type:`pdf`,category:`reports`,size:`1.5 MB`,lastUsed:new Date(Date.now()-4320*60*1e3),downloadCount:89}]),g([{id:`1`,filename:`transactions_january_2025.xlsx`,type:`excel`,status:`completed`,progress:100,recordsProcessed:1247,totalRecords:1247,errors:[],createdAt:new Date(Date.now()-7200*1e3),completedAt:new Date(Date.now()-1.5*60*60*1e3)},{id:`2`,filename:`customers_import.csv`,type:`csv`,status:`processing`,progress:67,recordsProcessed:334,totalRecords:500,errors:[`Row 45: Invalid email format`,`Row 123: Missing required field`],createdAt:new Date(Date.now()-1800*1e3)},{id:`3`,filename:`invoice_data_backup.json`,type:`json`,status:`failed`,progress:23,recordsProcessed:115,totalRecords:500,errors:[`Invalid JSON format at line 45`,`Missing required field: invoice_number`],createdAt:new Date(Date.now()-14400*1e3)}]),v([{id:`1`,name:`Full System Backup - January 2025`,type:`full`,status:`completed`,size:`245 MB`,createdAt:new Date(Date.now()-1440*60*1e3),downloadUrl:`/api/backups/download/1`,expiresAt:new Date(Date.now()+696*60*60*1e3)},{id:`2`,name:`Weekly Incremental Backup`,type:`incremental`,status:`running`,size:`45 MB`,createdAt:new Date(Date.now()-7200*1e3)},{id:`3`,name:`Transaction Data Backup`,type:`partial`,status:`scheduled`,size:`89 MB`,createdAt:new Date(Date.now()+360*60*1e3)}]),b(!1)})()},[]);let D=async()=>{if(!x){alert(`Please select a template to export`);return}let e=s.find(e=>e.id===x);e&&(m(e=>e.map(e=>e.id===x?{...e,downloadCount:e.downloadCount+1,lastUsed:new Date}:e)),alert(`Exporting ${e.name} as ${T.toUpperCase()}...`))},O=e=>{let t=e.target.files?.[0];if(t){let e={id:Date.now().toString(),filename:t.name,type:t.name.endsWith(`.xlsx`)?`excel`:t.name.endsWith(`.csv`)?`csv`:`json`,status:`processing`,progress:0,recordsProcessed:0,totalRecords:Math.floor(Math.random()*1e3)+100,errors:[],createdAt:new Date};g(t=>[e,...t]);let n=setInterval(()=>{g(t=>t.map(t=>{if(t.id===e.id&&t.progress<100){let e=Math.min(t.progress+Math.random()*15,100),r=Math.floor(e/100*t.totalRecords);return e>=100?(clearInterval(n),{...t,progress:100,recordsProcessed:t.totalRecords,status:Math.random()>.2?`completed`:`failed`,completedAt:new Date,errors:Math.random()>.2?[]:[`Sample error: Invalid data format`]}):{...t,progress:e,recordsProcessed:r}}return t}))},1e3)}},k=e=>{let t={id:Date.now().toString(),name:`${e.charAt(0).toUpperCase()+e.slice(1)} Backup - ${new Date().toLocaleDateString()}`,type:e,status:`running`,size:`0 MB`,createdAt:new Date};v(e=>[t,...e]),setTimeout(()=>{v(e=>e.map(e=>e.id===t.id?{...e,status:`completed`,size:`${Math.floor(Math.random()*200)+50} MB`,downloadUrl:`/api/backups/download/${e.id}`,expiresAt:new Date(Date.now()+720*60*60*1e3)}:e))},3e3)},A=e=>{switch(e){case`completed`:return`text-green-400 bg-green-500/10`;case`processing`:case`running`:return`text-blue-400 bg-blue-500/10`;case`failed`:return`text-red-400 bg-red-500/10`;case`pending`:case`scheduled`:return`text-yellow-400 bg-yellow-500/10`;default:return`text-gray-400 bg-gray-500/10`}},j=e=>{switch(e){case`excel`:return(0,p.jsx)(i,{className:`h-5 w-5 text-green-400`});case`csv`:return(0,p.jsx)(n,{className:`h-5 w-5 text-blue-400`});case`pdf`:return(0,p.jsx)(n,{className:`h-5 w-5 text-red-400`});case`json`:return(0,p.jsx)(c,{className:`h-5 w-5 text-purple-400`});default:return(0,p.jsx)(n,{className:`h-5 w-5 text-gray-400`})}};return(0,p.jsx)(`div`,{className:`min-h-screen bg-gradient-to-br from-blue-900 to-purple-900 p-6`,children:(0,p.jsxs)(`div`,{className:`max-w-7xl mx-auto`,children:[(0,p.jsxs)(`div`,{className:`mb-8`,children:[(0,p.jsx)(`h1`,{className:`text-4xl font-bold text-white mb-2`,children:`ðŸ“Š Data Management Tools`}),(0,p.jsx)(`p`,{className:`text-white/80 text-lg`,children:`ðŸ’¾ Comprehensive data export, import, and backup solutions`})]}),(0,p.jsx)(`div`,{className:`bg-white/20 backdrop-blur-sm rounded-2xl p-6 border border-white/30 mb-8`,children:(0,p.jsx)(`div`,{className:`flex space-x-2`,children:[{id:`export`,label:`Export Data`,icon:r},{id:`import`,label:`Import Data`,icon:a},{id:`backup`,label:`Backup & Restore`,icon:o},{id:`templates`,label:`Templates`,icon:d}].map(n=>{let r=n.icon;return(0,p.jsxs)(`button`,{onClick:()=>t(n.id),className:`flex items-center space-x-2 px-4 py-3 rounded-xl transition-all duration-300 ${e===n.id?`bg-white/30 text-white font-semibold shadow-lg`:`text-white/70 hover:bg-white/20`}`,children:[(0,p.jsx)(r,{className:`h-5 w-5`}),(0,p.jsx)(`span`,{children:n.label})]},n.id)})})}),(0,p.jsx)(`div`,{className:`mb-8`,children:y?(0,p.jsx)(`div`,{className:`flex items-center justify-center h-64`,children:(0,p.jsx)(`div`,{className:`animate-spin h-12 w-12 border-4 border-white/30 border-t-white rounded-full`})}):(0,p.jsxs)(p.Fragment,{children:[e===`export`&&(()=>(0,p.jsxs)(`div`,{className:`space-y-6`,children:[(0,p.jsxs)(`div`,{className:`bg-white/20 backdrop-blur-sm rounded-2xl p-6 border border-white/30`,children:[(0,p.jsx)(`h3`,{className:`text-xl font-bold text-white mb-6`,children:`ðŸ“¤ Data Export Configuration`}),(0,p.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6`,children:[(0,p.jsxs)(`div`,{children:[(0,p.jsx)(`label`,{className:`block text-white/80 text-sm font-medium mb-2`,children:`Export Template`}),(0,p.jsxs)(`select`,{value:x,onChange:e=>S(e.target.value),className:`w-full bg-white/10 border border-white/30 rounded-xl px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[(0,p.jsx)(`option`,{value:``,className:`bg-gray-800`,children:`Select template...`}),s.map(e=>(0,p.jsx)(`option`,{value:e.id,className:`bg-gray-800`,children:e.name},e.id))]})]}),(0,p.jsxs)(`div`,{children:[(0,p.jsx)(`label`,{className:`block text-white/80 text-sm font-medium mb-2`,children:`Export Format`}),(0,p.jsxs)(`select`,{value:T,onChange:e=>E(e.target.value),className:`w-full bg-white/10 border border-white/30 rounded-xl px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[(0,p.jsx)(`option`,{value:`excel`,className:`bg-gray-800`,children:`Excel (.xlsx)`}),(0,p.jsx)(`option`,{value:`csv`,className:`bg-gray-800`,children:`CSV (.csv)`}),(0,p.jsx)(`option`,{value:`pdf`,className:`bg-gray-800`,children:`PDF (.pdf)`})]})]}),(0,p.jsxs)(`div`,{children:[(0,p.jsx)(`label`,{className:`block text-white/80 text-sm font-medium mb-2`,children:`Start Date`}),(0,p.jsx)(`input`,{type:`date`,value:C.start,onChange:e=>w(t=>({...t,start:e.target.value})),className:`w-full bg-white/10 border border-white/30 rounded-xl px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),(0,p.jsxs)(`div`,{children:[(0,p.jsx)(`label`,{className:`block text-white/80 text-sm font-medium mb-2`,children:`End Date`}),(0,p.jsx)(`input`,{type:`date`,value:C.end,onChange:e=>w(t=>({...t,end:e.target.value})),className:`w-full bg-white/10 border border-white/30 rounded-xl px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-blue-500`})]})]}),(0,p.jsxs)(`button`,{onClick:D,disabled:!x,className:`bg-gradient-to-r from-green-600 to-blue-600 text-white px-6 py-3 rounded-xl font-medium hover:shadow-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed`,children:[(0,p.jsx)(r,{className:`inline h-5 w-5 mr-2`}),`Export Data`]})]}),(0,p.jsxs)(`div`,{className:`bg-white/20 backdrop-blur-sm rounded-2xl p-6 border border-white/30`,children:[(0,p.jsx)(`h3`,{className:`text-xl font-bold text-white mb-6`,children:`ðŸ“‹ Available Export Templates`}),(0,p.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6`,children:s.map(e=>(0,p.jsxs)(`div`,{className:`bg-white/10 rounded-xl p-4 border transition-all duration-300 cursor-pointer hover:shadow-lg ${x===e.id?`border-blue-400 bg-blue-500/20`:`border-white/20 hover:border-white/40`}`,onClick:()=>S(e.id),children:[(0,p.jsxs)(`div`,{className:`flex items-start justify-between mb-3`,children:[j(e.type),(0,p.jsx)(`span`,{className:`px-2 py-1 rounded-lg text-xs font-medium ${e.category===`reports`?`bg-purple-500/20 text-purple-400`:e.category===`transactions`?`bg-green-500/20 text-green-400`:e.category===`invoices`?`bg-blue-500/20 text-blue-400`:`bg-gray-500/20 text-gray-400`}`,children:e.category})]}),(0,p.jsx)(`h4`,{className:`text-white font-semibold mb-2`,children:e.name}),(0,p.jsx)(`p`,{className:`text-white/70 text-sm mb-3`,children:e.description}),(0,p.jsxs)(`div`,{className:`flex justify-between text-sm text-white/60`,children:[(0,p.jsxs)(`span`,{children:[`Size: `,e.size]}),(0,p.jsxs)(`span`,{children:[`Downloads: `,e.downloadCount]})]}),e.lastUsed&&(0,p.jsxs)(`div`,{className:`mt-2 text-xs text-white/50`,children:[`Last used: `,e.lastUsed.toLocaleDateString()]})]},e.id))})]})]}))(),e===`import`&&(()=>(0,p.jsxs)(`div`,{className:`space-y-6`,children:[(0,p.jsxs)(`div`,{className:`bg-white/20 backdrop-blur-sm rounded-2xl p-6 border border-white/30`,children:[(0,p.jsx)(`h3`,{className:`text-xl font-bold text-white mb-6`,children:`ðŸ“¥ Data Import`}),(0,p.jsxs)(`div`,{className:`border-2 border-dashed border-white/30 rounded-xl p-8 text-center`,children:[(0,p.jsx)(a,{className:`h-16 w-16 text-white/40 mx-auto mb-4`}),(0,p.jsx)(`h4`,{className:`text-white font-semibold mb-2`,children:`Drop files here or click to browse`}),(0,p.jsx)(`p`,{className:`text-white/60 mb-4`,children:`Supports Excel (.xlsx), CSV (.csv), and JSON (.json) files`}),(0,p.jsx)(`input`,{type:`file`,accept:`.xlsx,.csv,.json`,onChange:O,className:`hidden`,id:`file-upload`}),(0,p.jsx)(`label`,{htmlFor:`file-upload`,className:`bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-xl font-medium hover:shadow-lg transition-all duration-300 cursor-pointer inline-block`,children:`Choose Files`})]})]}),(0,p.jsxs)(`div`,{className:`bg-white/20 backdrop-blur-sm rounded-2xl p-6 border border-white/30`,children:[(0,p.jsx)(`h3`,{className:`text-xl font-bold text-white mb-6`,children:`ðŸ“‹ Import Progress`}),(0,p.jsx)(`div`,{className:`space-y-4`,children:h.map(e=>(0,p.jsxs)(`div`,{className:`bg-white/10 rounded-xl p-4 border border-white/20`,children:[(0,p.jsxs)(`div`,{className:`flex items-center justify-between mb-3`,children:[(0,p.jsxs)(`div`,{className:`flex items-center space-x-3`,children:[j(e.type),(0,p.jsxs)(`div`,{children:[(0,p.jsx)(`h4`,{className:`text-white font-semibold`,children:e.filename}),(0,p.jsxs)(`p`,{className:`text-white/60 text-sm`,children:[e.recordsProcessed,` / `,e.totalRecords,` records processed`]})]})]}),(0,p.jsx)(`span`,{className:`px-3 py-1 rounded-full text-xs font-medium ${A(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]}),(0,p.jsxs)(`div`,{className:`mb-3`,children:[(0,p.jsxs)(`div`,{className:`flex justify-between text-sm text-white/70 mb-1`,children:[(0,p.jsx)(`span`,{children:`Progress`}),(0,p.jsxs)(`span`,{children:[Math.round(e.progress),`%`]})]}),(0,p.jsx)(`div`,{className:`w-full bg-white/20 rounded-full h-2`,children:(0,p.jsx)(`div`,{className:`bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full transition-all duration-300`,style:{width:`${e.progress}%`}})})]}),e.errors.length>0&&(0,p.jsxs)(`div`,{className:`bg-red-500/10 border border-red-500/30 rounded-lg p-3`,children:[(0,p.jsxs)(`div`,{className:`flex items-center space-x-2 mb-2`,children:[(0,p.jsx)(l,{className:`h-4 w-4 text-red-400`}),(0,p.jsx)(`span`,{className:`text-red-400 font-medium`,children:`Errors Found`})]}),(0,p.jsxs)(`ul`,{className:`text-red-300 text-sm space-y-1`,children:[e.errors.slice(0,3).map((e,t)=>(0,p.jsxs)(`li`,{children:[`â€¢ `,e]},t)),e.errors.length>3&&(0,p.jsxs)(`li`,{children:[`â€¢ +`,e.errors.length-3,` more errors...`]})]})]}),(0,p.jsxs)(`div`,{className:`flex justify-between text-xs text-white/50 mt-3`,children:[(0,p.jsxs)(`span`,{children:[`Started: `,e.createdAt.toLocaleString()]}),e.completedAt&&(0,p.jsxs)(`span`,{children:[`Completed: `,e.completedAt.toLocaleString()]})]})]},e.id))})]})]}))(),e===`backup`&&(()=>(0,p.jsxs)(`div`,{className:`space-y-6`,children:[(0,p.jsxs)(`div`,{className:`bg-white/20 backdrop-blur-sm rounded-2xl p-6 border border-white/30`,children:[(0,p.jsx)(`h3`,{className:`text-xl font-bold text-white mb-6`,children:`ðŸ’¾ Create Backup`}),(0,p.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-3 gap-6`,children:[(0,p.jsxs)(`div`,{className:`bg-white/10 rounded-xl p-6 border border-white/20 text-center`,children:[(0,p.jsx)(c,{className:`h-12 w-12 text-blue-400 mx-auto mb-4`}),(0,p.jsx)(`h4`,{className:`text-white font-semibold mb-2`,children:`Full Backup`}),(0,p.jsx)(`p`,{className:`text-white/70 text-sm mb-4`,children:`Complete system backup including all data and settings`}),(0,p.jsx)(`button`,{onClick:()=>k(`full`),className:`bg-blue-600 text-white px-4 py-2 rounded-xl font-medium hover:bg-blue-700 transition-colors`,children:`Start Full Backup`})]}),(0,p.jsxs)(`div`,{className:`bg-white/10 rounded-xl p-6 border border-white/20 text-center`,children:[(0,p.jsx)(o,{className:`h-12 w-12 text-green-400 mx-auto mb-4`}),(0,p.jsx)(`h4`,{className:`text-white font-semibold mb-2`,children:`Partial Backup`}),(0,p.jsx)(`p`,{className:`text-white/70 text-sm mb-4`,children:`Backup specific data categories or date ranges`}),(0,p.jsx)(`button`,{onClick:()=>k(`partial`),className:`bg-green-600 text-white px-4 py-2 rounded-xl font-medium hover:bg-green-700 transition-colors`,children:`Start Partial Backup`})]}),(0,p.jsxs)(`div`,{className:`bg-white/10 rounded-xl p-6 border border-white/20 text-center`,children:[(0,p.jsx)(u,{className:`h-12 w-12 text-purple-400 mx-auto mb-4`}),(0,p.jsx)(`h4`,{className:`text-white font-semibold mb-2`,children:`Incremental Backup`}),(0,p.jsx)(`p`,{className:`text-white/70 text-sm mb-4`,children:`Backup only changes since last backup`}),(0,p.jsx)(`button`,{onClick:()=>k(`incremental`),className:`bg-purple-600 text-white px-4 py-2 rounded-xl font-medium hover:bg-purple-700 transition-colors`,children:`Start Incremental`})]})]})]}),(0,p.jsxs)(`div`,{className:`bg-white/20 backdrop-blur-sm rounded-2xl p-6 border border-white/30`,children:[(0,p.jsx)(`h3`,{className:`text-xl font-bold text-white mb-6`,children:`ðŸ“‹ Backup History`}),(0,p.jsx)(`div`,{className:`space-y-4`,children:_.map(e=>(0,p.jsxs)(`div`,{className:`bg-white/10 rounded-xl p-4 border border-white/20`,children:[(0,p.jsxs)(`div`,{className:`flex items-center justify-between mb-3`,children:[(0,p.jsxs)(`div`,{className:`flex items-center space-x-3`,children:[(0,p.jsx)(`div`,{className:`p-2 rounded-xl ${e.type===`full`?`bg-blue-500/20`:e.type===`partial`?`bg-green-500/20`:`bg-purple-500/20`}`,children:e.type===`full`?(0,p.jsx)(c,{className:`h-5 w-5 text-blue-400`}):e.type===`partial`?(0,p.jsx)(o,{className:`h-5 w-5 text-green-400`}):(0,p.jsx)(u,{className:`h-5 w-5 text-purple-400`})}),(0,p.jsxs)(`div`,{children:[(0,p.jsx)(`h4`,{className:`text-white font-semibold`,children:e.name}),(0,p.jsxs)(`p`,{className:`text-white/60 text-sm`,children:[e.type.charAt(0).toUpperCase()+e.type.slice(1),` â€¢ `,e.size]})]})]}),(0,p.jsxs)(`div`,{className:`flex items-center space-x-3`,children:[(0,p.jsx)(`span`,{className:`px-3 py-1 rounded-full text-xs font-medium ${A(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),e.downloadUrl&&e.status===`completed`&&(0,p.jsx)(`button`,{className:`p-2 text-white/60 hover:text-blue-400 hover:bg-blue-500/10 rounded-xl transition-colors`,children:(0,p.jsx)(r,{className:`h-4 w-4`})})]})]}),(0,p.jsxs)(`div`,{className:`flex justify-between text-xs text-white/50`,children:[(0,p.jsxs)(`span`,{children:[`Created: `,e.createdAt.toLocaleString()]}),e.expiresAt&&(0,p.jsxs)(`span`,{children:[`Expires: `,e.expiresAt.toLocaleDateString()]})]})]},e.id))})]})]}))(),e===`templates`&&(0,p.jsxs)(`div`,{className:`bg-white/20 backdrop-blur-sm rounded-2xl p-6 border border-white/30 text-center`,children:[(0,p.jsx)(d,{className:`h-16 w-16 text-white/40 mx-auto mb-4`}),(0,p.jsx)(`h3`,{className:`text-xl font-semibold text-white/80 mb-2`,children:`Template Management`}),(0,p.jsx)(`p`,{className:`text-white/60`,children:`Custom export templates and configurations coming soon.`})]})]})}),(0,p.jsx)(`div`,{className:`bg-white/10 backdrop-blur-sm rounded-2xl p-4 border border-white/30 text-center`,children:(0,p.jsxs)(`p`,{className:`text-white/60 text-sm`,children:[`ðŸ“¤ `,s.reduce((e,t)=>e+t.downloadCount,0),` total exports | ðŸ“¥ `,h.filter(e=>e.status===`completed`).length,` successful imports | ðŸ’¾ `,_.filter(e=>e.status===`completed`).length,` backups available`]})})]})})};export{m as default};
//# sourceMappingURL=DataManagement-DYUY9oiB.js.map