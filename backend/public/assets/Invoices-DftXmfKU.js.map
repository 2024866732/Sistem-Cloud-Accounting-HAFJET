{"version":3,"file":"Invoices-DftXmfKU.js","names":[],"sources":["../../src/components/LHDNEInvoiceManager.tsx","../../src/pages/Invoices.tsx"],"sourcesContent":["import { useState } from 'react';\r\n\r\ninterface LHDNEInvoiceProps {\r\n  invoiceId: string;\r\n  onSuccess?: (result: string) => void;\r\n  onError?: (error: string) => void;\r\n}\r\n\r\ninterface ValidationResult {\r\n  valid: boolean;\r\n  errors?: string[];\r\n}\r\n\r\ninterface SubmissionResult {\r\n  uuid: string;\r\n  status: 'Valid' | 'Invalid';\r\n  submissionDateTime: string;\r\n  message: string;\r\n}\r\n\r\ninterface ServiceInfo {\r\n  environment: string;\r\n  apiUrl: string;\r\n  authenticated: boolean;\r\n  clientId: string;\r\n}\r\n\r\nexport default function LHDNEInvoiceManager({ invoiceId, onSuccess, onError }: LHDNEInvoiceProps) {\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [isValidating, setIsValidating] = useState(false);\r\n  const [validationResult, setValidationResult] = useState<ValidationResult | null>(null);\r\n  const [submissionResult, setSubmissionResult] = useState<SubmissionResult | null>(null);\r\n  const [serviceInfo, setServiceInfo] = useState<ServiceInfo | null>(null);\r\n\r\n  // Validate invoice for LHDN compliance\r\n  const validateInvoice = async () => {\r\n    setIsValidating(true);\r\n    try {\r\n      const response = await fetch(`/api/invoices/${invoiceId}/validate-einvoice`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n\r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        setValidationResult(data.data);\r\n        if (data.data.valid) {\r\n          onSuccess?.(`Invoice ${invoiceId} is LHDN compliant`);\r\n        } else {\r\n          onError?.(`Validation failed: ${data.data.errors?.join(', ')}`);\r\n        }\r\n      } else {\r\n        throw new Error(data.message);\r\n      }\r\n    } catch (error) {\r\n      const errorMessage = error instanceof Error ? error.message : 'Validation failed';\r\n      onError?.(errorMessage);\r\n      setValidationResult({ valid: false, errors: [errorMessage] });\r\n    } finally {\r\n      setIsValidating(false);\r\n    }\r\n  };\r\n\r\n  // Submit invoice to LHDN E-Invoice system\r\n  const submitToLHDN = async () => {\r\n    setIsSubmitting(true);\r\n    try {\r\n      const response = await fetch(`/api/invoices/${invoiceId}/submit-einvoice`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n\r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        setSubmissionResult(data.data);\r\n        onSuccess?.(`E-Invoice submitted successfully. UUID: ${data.data.uuid}`);\r\n      } else {\r\n        throw new Error(data.message);\r\n      }\r\n    } catch (error) {\r\n      const errorMessage = error instanceof Error ? error.message : 'Submission failed';\r\n      onError?.(errorMessage);\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  // Get E-Invoice status from LHDN\r\n  const getEInvoiceStatus = async () => {\r\n    try {\r\n      const response = await fetch(`/api/invoices/${invoiceId}/einvoice-status`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        }\r\n      });\r\n\r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        setSubmissionResult(prev => prev ? { ...prev, ...data.data } : data.data);\r\n        onSuccess?.(`Status updated: ${data.data.status}`);\r\n      } else {\r\n        throw new Error(data.message);\r\n      }\r\n    } catch (error) {\r\n      const errorMessage = error instanceof Error ? error.message : 'Failed to get status';\r\n      onError?.(errorMessage);\r\n    }\r\n  };\r\n\r\n  // Get LHDN service information\r\n  const getServiceInfo = async () => {\r\n    try {\r\n      const response = await fetch('/api/invoices/lhdn/service-info', {\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        }\r\n      });\r\n\r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        setServiceInfo(data.data);\r\n      } else {\r\n        throw new Error(data.message);\r\n      }\r\n    } catch (error) {\r\n      const errorMessage = error instanceof Error ? error.message : 'Failed to get service info';\r\n      onError?.(errorMessage);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white border border-gray-200 rounded-lg p-6 space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <h3 className=\"text-lg font-semibold text-gray-900\">LHDN E-Invoice Management</h3>\r\n        <div className=\"flex space-x-2\">\r\n          <button\r\n            onClick={getServiceInfo}\r\n            className=\"px-3 py-1 text-sm text-blue-600 hover:text-blue-800\"\r\n          >\r\n            Service Info\r\n          </button>\r\n          {submissionResult && (\r\n            <button\r\n              onClick={getEInvoiceStatus}\r\n              className=\"px-3 py-1 text-sm text-green-600 hover:text-green-800\"\r\n            >\r\n              Refresh Status\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Service Information */}\r\n      {serviceInfo && (\r\n        <div className=\"bg-blue-50 p-4 rounded-lg\">\r\n          <h4 className=\"font-medium text-blue-900 mb-2\">LHDN Service Status</h4>\r\n          <div className=\"grid grid-cols-2 gap-4 text-sm\">\r\n            <div>\r\n              <span className=\"text-blue-700\">Environment:</span>\r\n              <span className=\"ml-2 font-medium\">{serviceInfo.environment}</span>\r\n            </div>\r\n            <div>\r\n              <span className=\"text-blue-700\">Authentication:</span>\r\n              <span className={`ml-2 font-medium ${serviceInfo.authenticated ? 'text-green-600' : 'text-red-600'}`}>\r\n                {serviceInfo.authenticated ? 'Connected' : 'Disconnected'}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Validation Section */}\r\n      <div className=\"space-y-3\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <h4 className=\"font-medium text-gray-700\">Step 1: Validate Invoice</h4>\r\n          <button\r\n            onClick={validateInvoice}\r\n            disabled={isValidating}\r\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed\"\r\n          >\r\n            {isValidating ? 'Validating...' : 'Validate for LHDN'}\r\n          </button>\r\n        </div>\r\n\r\n        {validationResult && (\r\n          <div className={`p-4 rounded-lg ${validationResult.valid ? 'bg-green-50 border border-green-200' : 'bg-red-50 border border-red-200'}`}>\r\n            <div className=\"flex items-center\">\r\n              {validationResult.valid ? (\r\n                <div className=\"flex items-center text-green-700\">\r\n                  <svg className=\"w-5 h-5 mr-2\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                    <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\r\n                  </svg>\r\n                  <span className=\"font-medium\">Invoice is LHDN compliant</span>\r\n                </div>\r\n              ) : (\r\n                <div className=\"text-red-700\">\r\n                  <div className=\"flex items-center\">\r\n                    <svg className=\"w-5 h-5 mr-2\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                      <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\r\n                    </svg>\r\n                    <span className=\"font-medium\">Validation failed</span>\r\n                  </div>\r\n                  {validationResult.errors && (\r\n                    <ul className=\"mt-2 ml-7 list-disc list-inside text-sm\">\r\n                      {validationResult.errors.map((error, index) => (\r\n                        <li key={index}>{error}</li>\r\n                      ))}\r\n                    </ul>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Submission Section */}\r\n      <div className=\"space-y-3\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <h4 className=\"font-medium text-gray-700\">Step 2: Submit to LHDN</h4>\r\n          <button\r\n            onClick={submitToLHDN}\r\n            disabled={isSubmitting || (validationResult && !validationResult.valid)}\r\n            className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed\"\r\n          >\r\n            {isSubmitting ? 'Submitting...' : 'Submit E-Invoice'}\r\n          </button>\r\n        </div>\r\n\r\n        {submissionResult && (\r\n          <div className=\"bg-green-50 border border-green-200 p-4 rounded-lg\">\r\n            <h5 className=\"font-medium text-green-900 mb-3\">Submission Result</h5>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm\">\r\n              <div>\r\n                <span className=\"text-green-700\">UUID:</span>\r\n                <span className=\"ml-2 font-mono font-medium\">{submissionResult.uuid}</span>\r\n              </div>\r\n              <div>\r\n                <span className=\"text-green-700\">Status:</span>\r\n                <span className={`ml-2 font-medium ${submissionResult.status === 'Valid' ? 'text-green-600' : 'text-red-600'}`}>\r\n                  {submissionResult.status}\r\n                </span>\r\n              </div>\r\n              <div className=\"md:col-span-2\">\r\n                <span className=\"text-green-700\">Submission Time:</span>\r\n                <span className=\"ml-2 font-medium\">\r\n                  {new Date(submissionResult.submissionDateTime).toLocaleString()}\r\n                </span>\r\n              </div>\r\n              <div className=\"md:col-span-2\">\r\n                <span className=\"text-green-700\">Message:</span>\r\n                <span className=\"ml-2\">{submissionResult.message}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Information Section */}\r\n      <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n        <h5 className=\"font-medium text-gray-700 mb-2\">About LHDN E-Invoice</h5>\r\n        <p className=\"text-sm text-gray-600 mb-2\">\r\n          The Lembaga Hasil Dalam Negeri (LHDN) E-Invoice system is mandatory for Malaysian businesses.\r\n          This feature ensures your invoices comply with Malaysian tax regulations.\r\n        </p>\r\n        <div className=\"text-xs text-gray-500\">\r\n          <p>â€¢ Currently running in sandbox mode for testing</p>\r\n          <p>â€¢ Production mode requires valid LHDN API credentials</p>\r\n          <p>â€¢ All submitted invoices are validated against UBL 2.1 standards</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}","import { useState } from 'react'\r\nimport { formatMYR } from '../utils'\r\nimport LHDNEInvoiceManager from '../components/LHDNEInvoiceManager'\r\n\r\ninterface InvoiceItem {\r\n  id: string\r\n  description: string\r\n  quantity: number\r\n  unitPrice: number\r\n  sstRate: number\r\n  amount: number\r\n  sstAmount: number\r\n  totalAmount: number\r\n}\r\n\r\ninterface Invoice {\r\n  id: string\r\n  invoiceNumber: string\r\n  date: string\r\n  dueDate: string\r\n  customerName: string\r\n  customerEmail: string\r\n  customerAddress: string\r\n  items: InvoiceItem[]\r\n  subtotal: number\r\n  totalSST: number\r\n  grandTotal: number\r\n  status: 'draft' | 'sent' | 'paid' | 'overdue'\r\n  einvoiceStatus: 'pending' | 'submitted' | 'approved' | 'rejected'\r\n}\r\n\r\nexport default function Invoices() {\r\n  const [showCreateForm, setShowCreateForm] = useState(false)\r\n  const [selectedInvoice, setSelectedInvoice] = useState<Invoice | null>(null)\r\n\r\n  // Mock invoice data\r\n  const [invoices] = useState<Invoice[]>([\r\n    {\r\n      id: '1',\r\n      invoiceNumber: 'INV-2024-001',\r\n      date: '2024-10-01',\r\n      dueDate: '2024-10-31',\r\n      customerName: 'Syarikat ABC Sdn Bhd',\r\n      customerEmail: 'finance@abc.com.my',\r\n      customerAddress: 'No. 123, Jalan Bukit Bintang, 50200 Kuala Lumpur',\r\n      items: [\r\n        {\r\n          id: '1',\r\n          description: 'Perkhidmatan Konsultasi IT',\r\n          quantity: 10,\r\n          unitPrice: 500,\r\n          sstRate: 6,\r\n          amount: 5000,\r\n          sstAmount: 300,\r\n          totalAmount: 5300\r\n        }\r\n      ],\r\n      subtotal: 5000,\r\n      totalSST: 300,\r\n      grandTotal: 5300,\r\n      status: 'sent',\r\n      einvoiceStatus: 'approved'\r\n    },\r\n    {\r\n      id: '2',\r\n      invoiceNumber: 'INV-2024-002',\r\n      date: '2024-10-02',\r\n      dueDate: '2024-11-01',\r\n      customerName: 'Perniagaan XYZ',\r\n      customerEmail: 'accounts@xyz.my',\r\n      customerAddress: 'Lot 456, Jalan Raja Laut, 53000 Kuala Lumpur',\r\n      items: [\r\n        {\r\n          id: '1',\r\n          description: 'Sistem Pengurusan Stok',\r\n          quantity: 1,\r\n          unitPrice: 12000,\r\n          sstRate: 6,\r\n          amount: 12000,\r\n          sstAmount: 720,\r\n          totalAmount: 12720\r\n        }\r\n      ],\r\n      subtotal: 12000,\r\n      totalSST: 720,\r\n      grandTotal: 12720,\r\n      status: 'paid',\r\n      einvoiceStatus: 'approved'\r\n    }\r\n  ])\r\n\r\n  const getStatusColor = (status: string) => {\r\n    switch (status) {\r\n      case 'paid': return 'bg-green-100 text-green-800'\r\n      case 'sent': return 'bg-blue-100 text-blue-800'\r\n      case 'overdue': return 'bg-red-100 text-red-800'\r\n      default: return 'bg-gray-100 text-gray-800'\r\n    }\r\n  }\r\n\r\n  const getEInvoiceStatusColor = (status: string) => {\r\n    switch (status) {\r\n      case 'approved': return 'bg-green-100 text-green-800'\r\n      case 'submitted': return 'bg-yellow-100 text-yellow-800'\r\n      case 'rejected': return 'bg-red-100 text-red-800'\r\n      default: return 'bg-gray-100 text-gray-800'\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-8\">\r\n      {/* Header */}\r\n      <div className=\"bg-gradient-to-r from-green-600 to-blue-600 text-white p-4 sm:p-6 lg:p-8 rounded-2xl sm:rounded-3xl\">\r\n        <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0\">\r\n          <div>\r\n            <h1 className=\"text-2xl sm:text-3xl lg:text-4xl font-bold mb-2\">ðŸ§¾ Invois Malaysia</h1>\r\n            <p className=\"text-green-100 text-sm sm:text-base\">Sistem pengurusan invois dengan pematuhan SST dan E-Invoice LHDN</p>\r\n          </div>\r\n          <button\r\n            onClick={() => setShowCreateForm(true)}\r\n            className=\"w-full sm:w-auto bg-white text-green-600 px-4 sm:px-6 py-2 sm:py-3 rounded-lg sm:rounded-xl font-semibold hover:bg-green-50 transition-all duration-300 text-sm sm:text-base whitespace-nowrap\"\r\n          >\r\n            + Cipta Invois Baru\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Statistics */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\r\n        <div className=\"bg-white p-6 rounded-2xl shadow-lg border border-gray-100\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-gray-600 text-sm\">Jumlah Invois</p>\r\n              <p className=\"text-2xl font-bold text-gray-900\">{invoices.length}</p>\r\n            </div>\r\n            <div className=\"bg-blue-100 p-3 rounded-xl\">\r\n              <span className=\"text-2xl\">ðŸ“„</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white p-6 rounded-2xl shadow-lg border border-gray-100\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-gray-600 text-sm\">Jumlah Nilai</p>\r\n              <p className=\"text-2xl font-bold text-gray-900\">\r\n                {formatMYR(invoices.reduce((sum, inv) => sum + inv.grandTotal, 0))}\r\n              </p>\r\n            </div>\r\n            <div className=\"bg-green-100 p-3 rounded-xl\">\r\n              <span className=\"text-2xl\">ï¿½</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white p-6 rounded-2xl shadow-lg border border-gray-100\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-gray-600 text-sm\">Jumlah SST</p>\r\n              <p className=\"text-2xl font-bold text-gray-900\">\r\n                {formatMYR(invoices.reduce((sum, inv) => sum + inv.totalSST, 0))}\r\n              </p>\r\n            </div>\r\n            <div className=\"bg-yellow-100 p-3 rounded-xl\">\r\n              <span className=\"text-2xl\">ðŸ§®</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white p-6 rounded-2xl shadow-lg border border-gray-100\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-gray-600 text-sm\">E-Invoice LHDN</p>\r\n              <p className=\"text-2xl font-bold text-green-600\">\r\n                {invoices.filter(inv => inv.einvoiceStatus === 'approved').length}/\r\n                {invoices.length}\r\n              </p>\r\n            </div>\r\n            <div className=\"bg-green-100 p-3 rounded-xl\">\r\n              <span className=\"text-2xl\">âœ…</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Invoice List */}\r\n      <div className=\"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden\">\r\n        <div className=\"p-4 sm:p-6 border-b border-gray-100\">\r\n          <h3 className=\"text-lg sm:text-xl font-semibold text-gray-900\">Senarai Invois</h3>\r\n        </div>\r\n        \r\n        {/* Desktop Table View - Hidden on mobile */}\r\n        <div className=\"hidden md:block overflow-x-auto\">\r\n          <table className=\"w-full\">\r\n            <thead className=\"bg-gray-50\">\r\n              <tr>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  No. Invois\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Pelanggan\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Tarikh\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Jumlah\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Status\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  E-Invoice\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Tindakan\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"bg-white divide-y divide-gray-200\">\r\n              {invoices.map((invoice) => (\r\n                <tr key={invoice.id} className=\"hover:bg-gray-50\">\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                    <div className=\"text-sm font-medium text-gray-900\">{invoice.invoiceNumber}</div>\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                    <div className=\"text-sm text-gray-900\">{invoice.customerName}</div>\r\n                    <div className=\"text-sm text-gray-500\">{invoice.customerEmail}</div>\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                    <div className=\"text-sm text-gray-900\">{new Date(invoice.date).toLocaleDateString('ms-MY')}</div>\r\n                    <div className=\"text-sm text-gray-500\">Due: {new Date(invoice.dueDate).toLocaleDateString('ms-MY')}</div>\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                    <div className=\"text-sm font-medium text-gray-900\">{formatMYR(invoice.grandTotal)}</div>\r\n                    <div className=\"text-sm text-gray-500\">SST: {formatMYR(invoice.totalSST)}</div>\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                    <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${getStatusColor(invoice.status)}`}>\r\n                      {invoice.status.charAt(0).toUpperCase() + invoice.status.slice(1)}\r\n                    </span>\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                    <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${getEInvoiceStatusColor(invoice.einvoiceStatus)}`}>\r\n                      {invoice.einvoiceStatus.charAt(0).toUpperCase() + invoice.einvoiceStatus.slice(1)}\r\n                    </span>\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n                    <div className=\"flex space-x-2\">\r\n                      <button\r\n                        onClick={() => setSelectedInvoice(invoice)}\r\n                        className=\"text-blue-600 hover:text-blue-900\"\r\n                      >\r\n                        Lihat\r\n                      </button>\r\n                      <button className=\"text-green-600 hover:text-green-900\">\r\n                        PDF\r\n                      </button>\r\n                      <button className=\"text-purple-600 hover:text-purple-900\">\r\n                        E-Invoice\r\n                      </button>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        {/* Mobile Card View - Shown only on mobile */}\r\n        <div className=\"md:hidden divide-y divide-gray-200\">\r\n          {invoices.map((invoice) => (\r\n            <div key={invoice.id} className=\"p-4 hover:bg-gray-50 transition-colors\">\r\n              <div className=\"space-y-3\">\r\n                {/* Header */}\r\n                <div className=\"flex items-start justify-between\">\r\n                  <div>\r\n                    <div className=\"font-medium text-gray-900 text-sm\">{invoice.invoiceNumber}</div>\r\n                    <div className=\"text-sm text-gray-600 mt-1\">{invoice.customerName}</div>\r\n                  </div>\r\n                  <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${getStatusColor(invoice.status)}`}>\r\n                    {invoice.status.charAt(0).toUpperCase() + invoice.status.slice(1)}\r\n                  </span>\r\n                </div>\r\n\r\n                {/* Details Grid */}\r\n                <div className=\"grid grid-cols-2 gap-3 text-sm\">\r\n                  <div>\r\n                    <div className=\"text-gray-500 text-xs\">Tarikh</div>\r\n                    <div className=\"text-gray-900\">{new Date(invoice.date).toLocaleDateString('ms-MY')}</div>\r\n                  </div>\r\n                  <div>\r\n                    <div className=\"text-gray-500 text-xs\">Due Date</div>\r\n                    <div className=\"text-gray-900\">{new Date(invoice.dueDate).toLocaleDateString('ms-MY')}</div>\r\n                  </div>\r\n                  <div>\r\n                    <div className=\"text-gray-500 text-xs\">Jumlah</div>\r\n                    <div className=\"text-gray-900 font-semibold\">{formatMYR(invoice.grandTotal)}</div>\r\n                  </div>\r\n                  <div>\r\n                    <div className=\"text-gray-500 text-xs\">E-Invoice</div>\r\n                    <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${getEInvoiceStatusColor(invoice.einvoiceStatus)}`}>\r\n                      {invoice.einvoiceStatus.charAt(0).toUpperCase() + invoice.einvoiceStatus.slice(1)}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Actions */}\r\n                <div className=\"flex space-x-2 pt-2 border-t border-gray-100\">\r\n                  <button\r\n                    onClick={() => setSelectedInvoice(invoice)}\r\n                    className=\"flex-1 px-3 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors\"\r\n                  >\r\n                    Lihat\r\n                  </button>\r\n                  <button className=\"flex-1 px-3 py-2 text-sm font-medium text-green-600 bg-green-50 rounded-lg hover:bg-green-100 transition-colors\">\r\n                    PDF\r\n                  </button>\r\n                  <button className=\"flex-1 px-3 py-2 text-sm font-medium text-purple-600 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors\">\r\n                    E-Invoice\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Invoice Detail Modal */}\r\n      {selectedInvoice && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\r\n          <div className=\"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto\">\r\n            <div className=\"p-6 border-b border-gray-200\">\r\n              <div className=\"flex justify-between items-center\">\r\n                <h3 className=\"text-xl font-semibold text-gray-900\">\r\n                  Invois {selectedInvoice.invoiceNumber}\r\n                </h3>\r\n                <button\r\n                  onClick={() => setSelectedInvoice(null)}\r\n                  className=\"text-gray-400 hover:text-gray-600\"\r\n                >\r\n                  âœ•\r\n                </button>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"p-6\">\r\n              {/* Invoice Header */}\r\n              <div className=\"mb-8\">\r\n                <div className=\"flex justify-between items-start mb-6\">\r\n                  <div>\r\n                    <h2 className=\"text-2xl font-bold text-blue-600 mb-2\">ðŸ‡²ðŸ‡¾ HAFJET Cloud Accounting System</h2>\r\n                    <p className=\"text-gray-600\">Sistem Kewangan Malaysia</p>\r\n                    <p className=\"text-sm text-gray-500 mt-2\">\r\n                      No. 789, Jalan Teknologi<br/>\r\n                      Cyberjaya, 63000 Selangor<br/>\r\n                      Tel: +60 3-8000 0000\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"text-right\">\r\n                    <h3 className=\"text-xl font-bold text-gray-900\">INVOIS</h3>\r\n                    <p className=\"text-lg font-semibold text-blue-600\">{selectedInvoice.invoiceNumber}</p>\r\n                    <p className=\"text-sm text-gray-600 mt-2\">\r\n                      Tarikh: {new Date(selectedInvoice.date).toLocaleDateString('ms-MY')}<br/>\r\n                      Tarikh Akhir: {new Date(selectedInvoice.dueDate).toLocaleDateString('ms-MY')}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Customer Details */}\r\n                <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n                  <h4 className=\"font-semibold text-gray-900 mb-2\">Kepada:</h4>\r\n                  <p className=\"font-medium\">{selectedInvoice.customerName}</p>\r\n                  <p className=\"text-sm text-gray-600\">{selectedInvoice.customerAddress}</p>\r\n                  <p className=\"text-sm text-gray-600\">{selectedInvoice.customerEmail}</p>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Invoice Items */}\r\n              <div className=\"mb-6\">\r\n                <table className=\"w-full border border-gray-200\">\r\n                  <thead className=\"bg-gray-50\">\r\n                    <tr>\r\n                      <th className=\"px-4 py-2 text-left text-sm font-medium text-gray-900 border-b\">Penerangan</th>\r\n                      <th className=\"px-4 py-2 text-center text-sm font-medium text-gray-900 border-b\">Kuantiti</th>\r\n                      <th className=\"px-4 py-2 text-right text-sm font-medium text-gray-900 border-b\">Harga Unit</th>\r\n                      <th className=\"px-4 py-2 text-right text-sm font-medium text-gray-900 border-b\">Jumlah</th>\r\n                      <th className=\"px-4 py-2 text-right text-sm font-medium text-gray-900 border-b\">SST (6%)</th>\r\n                      <th className=\"px-4 py-2 text-right text-sm font-medium text-gray-900 border-b\">Jumlah Keseluruhan</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {selectedInvoice.items.map((item) => (\r\n                      <tr key={item.id}>\r\n                        <td className=\"px-4 py-3 text-sm text-gray-900 border-b\">{item.description}</td>\r\n                        <td className=\"px-4 py-3 text-sm text-center text-gray-900 border-b\">{item.quantity}</td>\r\n                        <td className=\"px-4 py-3 text-sm text-right text-gray-900 border-b\">{formatMYR(item.unitPrice)}</td>\r\n                        <td className=\"px-4 py-3 text-sm text-right text-gray-900 border-b\">{formatMYR(item.amount)}</td>\r\n                        <td className=\"px-4 py-3 text-sm text-right text-gray-900 border-b\">{formatMYR(item.sstAmount)}</td>\r\n                        <td className=\"px-4 py-3 text-sm text-right font-medium text-gray-900 border-b\">{formatMYR(item.totalAmount)}</td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n\r\n              {/* Invoice Totals */}\r\n              <div className=\"flex justify-end\">\r\n                <div className=\"w-64\">\r\n                  <div className=\"flex justify-between py-2 border-b\">\r\n                    <span className=\"text-gray-600\">Subtotal:</span>\r\n                    <span className=\"font-medium\">{formatMYR(selectedInvoice.subtotal)}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between py-2 border-b\">\r\n                    <span className=\"text-gray-600\">SST (6%):</span>\r\n                    <span className=\"font-medium\">{formatMYR(selectedInvoice.totalSST)}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between py-2 text-lg font-bold\">\r\n                    <span>Jumlah Keseluruhan:</span>\r\n                    <span className=\"text-blue-600\">{formatMYR(selectedInvoice.grandTotal)}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* E-Invoice Status */}\r\n              <div className=\"mt-6 p-4 bg-green-50 rounded-lg\">\r\n                <div className=\"flex items-center\">\r\n                  <span className=\"text-green-600 text-lg mr-2\">âœ…</span>\r\n                  <div>\r\n                    <p className=\"font-medium text-green-800\">Status E-Invoice LHDN</p>\r\n                    <p className=\"text-sm text-green-600\">\r\n                      {selectedInvoice.einvoiceStatus === 'approved' \r\n                        ? 'Diluluskan oleh LHDN - Sah untuk kegunaan rasmi'\r\n                        : 'Menunggu kelulusan LHDN'\r\n                      }\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* LHDN E-Invoice Management */}\r\n              <div className=\"mt-6\">\r\n                <LHDNEInvoiceManager \r\n                  invoiceId={selectedInvoice.id}\r\n                  onSuccess={(message) => {\r\n                    console.log('LHDN Success:', message);\r\n                    // You could show a toast notification here\r\n                  }}\r\n                  onError={(error) => {\r\n                    console.error('LHDN Error:', error);\r\n                    // You could show an error notification here\r\n                  }}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Create Invoice Form Modal */}\r\n      {showCreateForm && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\r\n          <div className=\"bg-white rounded-2xl shadow-2xl max-w-2xl w-full\">\r\n            <div className=\"p-6 border-b border-gray-200\">\r\n              <div className=\"flex justify-between items-center\">\r\n                <h3 className=\"text-xl font-semibold text-gray-900\">Cipta Invois Baru</h3>\r\n                <button\r\n                  onClick={() => setShowCreateForm(false)}\r\n                  className=\"text-gray-400 hover:text-gray-600\"\r\n                >\r\n                  âœ•\r\n                </button>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"p-6\">\r\n              <div className=\"text-center py-8\">\r\n                <div className=\"text-4xl mb-4\">ðŸš§</div>\r\n                <h4 className=\"text-lg font-semibold text-gray-800 mb-2\">Form Cipta Invois</h4>\r\n                <p className=\"text-gray-600\">\r\n                  Form untuk cipta invois baru dengan automatic SST calculation<br/>\r\n                  dan E-Invoice submission ke LHDN akan available soon.\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}"],"mappings":"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"}