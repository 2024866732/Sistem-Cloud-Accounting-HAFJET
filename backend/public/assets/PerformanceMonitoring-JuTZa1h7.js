import{r as e}from"./rolldown-runtime-DGruFWvd.js";import{_ as t}from"./charts-CsPrSeQA.js";import{J as n,K as r,U as i,X as a,Y as o,ft as s,l as c,mt as l,u}from"./vendor-cVok5HuT.js";import{a as d,o as f}from"./index-DqxBymsu.js";var p=e(t()),m=class{constructor(e=100){this.cache=new Map,this.maxSize=e}set(e,t,n=3e5){if(this.cache.size>=this.maxSize){let e=this.cache.keys().next().value;e&&this.cache.delete(e)}this.cache.set(e,{data:t,timestamp:Date.now(),ttl:n})}get(e){let t=this.cache.get(e);return t?Date.now()-t.timestamp>t.ttl?(this.cache.delete(e),null):t.data:null}has(e){return this.get(e)!==null}delete(e){this.cache.delete(e)}clear(){this.cache.clear()}getStats(){return{size:this.cache.size,maxSize:this.maxSize,hitRate:0}}};const h=new m(50),g=new m(30),_=new m(20),v={logHit:e=>{console.log(`✅ Cache hit: ${e}`)},logMiss:e=>{console.log(`❌ Cache miss: ${e}`)},getOverallStats:()=>({api:h.getStats(),component:g.getStats(),userData:_.getStats()})};var y=e(l()),b=()=>{let[e,t]=(0,p.useState)([]),[l,m]=(0,p.useState)({status:`healthy`,uptime:`99.9%`,responseTime:150,errorRate:.1}),[h,g]=(0,p.useState)(5e3);(0,p.useEffect)(()=>{_();let e=setInterval(_,h);return()=>clearInterval(e)},[h]);let _=()=>{let e=f();t(e.slice(-50));let n=e.length>0?e.reduce((e,t)=>e+t.loadTime,0)/e.length:0;m(e=>({...e,responseTime:Math.round(n),status:n>3e3?`critical`:n>1e3?`warning`:`healthy`}))},b=e=>{switch(e){case`healthy`:return`text-green-600 bg-green-100`;case`warning`:return`text-yellow-600 bg-yellow-100`;case`critical`:return`text-red-600 bg-red-100`;default:return`text-gray-600 bg-gray-100`}},x=e=>{switch(e){case`healthy`:return(0,y.jsx)(a,{className:`w-5 h-5`});case`warning`:return(0,y.jsx)(c,{className:`w-5 h-5`});case`critical`:return(0,y.jsx)(o,{className:`w-5 h-5`});default:return(0,y.jsx)(s,{className:`w-5 h-5`})}},S=e.length>0?Math.round(e.reduce((e,t)=>e+t.loadTime,0)/e.length):0,C=v.getOverallStats();return(0,y.jsx)(`div`,{className:`min-h-screen bg-gray-50 p-6`,children:(0,y.jsxs)(`div`,{className:`max-w-7xl mx-auto`,children:[(0,y.jsxs)(`div`,{className:`mb-8`,children:[(0,y.jsx)(`h1`,{className:`text-3xl font-bold text-gray-900 mb-2`,children:`Performance Monitoring`}),(0,y.jsx)(`p`,{className:`text-gray-600`,children:`Real-time performance metrics and system health monitoring`})]}),(0,y.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-4 gap-6 mb-8`,children:[(0,y.jsx)(`div`,{className:`bg-white rounded-xl shadow-sm p-6 border border-gray-100`,children:(0,y.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,y.jsxs)(`div`,{children:[(0,y.jsx)(`p`,{className:`text-sm font-medium text-gray-600`,children:`System Status`}),(0,y.jsxs)(`div`,{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium mt-1 ${b(l.status)}`,children:[x(l.status),(0,y.jsx)(`span`,{className:`ml-1 capitalize`,children:l.status})]})]}),(0,y.jsx)(s,{className:`w-8 h-8 text-blue-600`})]})}),(0,y.jsx)(`div`,{className:`bg-white rounded-xl shadow-sm p-6 border border-gray-100`,children:(0,y.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,y.jsxs)(`div`,{children:[(0,y.jsx)(`p`,{className:`text-sm font-medium text-gray-600`,children:`Avg Response Time`}),(0,y.jsxs)(`p`,{className:`text-2xl font-bold text-gray-900`,children:[l.responseTime,`ms`]})]}),(0,y.jsx)(n,{className:`w-8 h-8 text-green-600`})]})}),(0,y.jsx)(`div`,{className:`bg-white rounded-xl shadow-sm p-6 border border-gray-100`,children:(0,y.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,y.jsxs)(`div`,{children:[(0,y.jsx)(`p`,{className:`text-sm font-medium text-gray-600`,children:`Uptime`}),(0,y.jsx)(`p`,{className:`text-2xl font-bold text-gray-900`,children:l.uptime})]}),(0,y.jsx)(u,{className:`w-8 h-8 text-purple-600`})]})}),(0,y.jsx)(`div`,{className:`bg-white rounded-xl shadow-sm p-6 border border-gray-100`,children:(0,y.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,y.jsxs)(`div`,{children:[(0,y.jsx)(`p`,{className:`text-sm font-medium text-gray-600`,children:`Error Rate`}),(0,y.jsxs)(`p`,{className:`text-2xl font-bold text-gray-900`,children:[l.errorRate,`%`]})]}),(0,y.jsx)(c,{className:`w-8 h-8 text-red-600`})]})})]}),(0,y.jsxs)(`div`,{className:`grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8`,children:[(0,y.jsxs)(`div`,{className:`bg-white rounded-xl shadow-sm p-6 border border-gray-100`,children:[(0,y.jsxs)(`div`,{className:`flex items-center justify-between mb-4`,children:[(0,y.jsx)(`h2`,{className:`text-lg font-semibold text-gray-900`,children:`Component Load Times`}),(0,y.jsx)(r,{className:`w-5 h-5 text-gray-400`})]}),(0,y.jsx)(`div`,{className:`space-y-3`,children:e.slice(-10).map((e,t)=>(0,y.jsxs)(`div`,{className:`flex items-center justify-between p-3 bg-gray-50 rounded-lg`,children:[(0,y.jsxs)(`div`,{children:[(0,y.jsx)(`p`,{className:`font-medium text-gray-900`,children:e.component}),(0,y.jsx)(`p`,{className:`text-sm text-gray-500`,children:new Date(e.timestamp).toLocaleTimeString()})]}),(0,y.jsx)(`div`,{className:`text-right`,children:(0,y.jsxs)(`span`,{className:`font-bold ${e.loadTime>1e3?`text-red-600`:e.loadTime>500?`text-yellow-600`:`text-green-600`}`,children:[e.loadTime.toFixed(0),`ms`]})})]},t))})]}),(0,y.jsxs)(`div`,{className:`bg-white rounded-xl shadow-sm p-6 border border-gray-100`,children:[(0,y.jsxs)(`div`,{className:`flex items-center justify-between mb-4`,children:[(0,y.jsx)(`h2`,{className:`text-lg font-semibold text-gray-900`,children:`Cache Performance`}),(0,y.jsx)(i,{className:`w-5 h-5 text-gray-400`})]}),(0,y.jsxs)(`div`,{className:`space-y-4`,children:[(0,y.jsxs)(`div`,{className:`flex items-center justify-between p-3 bg-blue-50 rounded-lg`,children:[(0,y.jsx)(`span`,{className:`text-gray-700`,children:`API Cache`}),(0,y.jsxs)(`span`,{className:`font-bold text-blue-600`,children:[C.api.size,`/`,C.api.maxSize]})]}),(0,y.jsxs)(`div`,{className:`flex items-center justify-between p-3 bg-green-50 rounded-lg`,children:[(0,y.jsx)(`span`,{className:`text-gray-700`,children:`Component Cache`}),(0,y.jsxs)(`span`,{className:`font-bold text-green-600`,children:[C.component.size,`/`,C.component.maxSize]})]}),(0,y.jsxs)(`div`,{className:`flex items-center justify-between p-3 bg-purple-50 rounded-lg`,children:[(0,y.jsx)(`span`,{className:`text-gray-700`,children:`User Data Cache`}),(0,y.jsxs)(`span`,{className:`font-bold text-purple-600`,children:[C.userData.size,`/`,C.userData.maxSize]})]})]})]})]}),(0,y.jsxs)(`div`,{className:`bg-white rounded-xl shadow-sm p-6 border border-gray-100 mb-8`,children:[(0,y.jsxs)(`div`,{className:`flex items-center justify-between mb-4`,children:[(0,y.jsx)(`h2`,{className:`text-lg font-semibold text-gray-900`,children:`Performance Analytics`}),(0,y.jsxs)(`div`,{className:`flex space-x-2`,children:[(0,y.jsxs)(`select`,{value:h,onChange:e=>g(Number(e.target.value)),className:`px-3 py-1 border border-gray-300 rounded-md text-sm`,children:[(0,y.jsx)(`option`,{value:1e3,children:`1s`}),(0,y.jsx)(`option`,{value:5e3,children:`5s`}),(0,y.jsx)(`option`,{value:1e4,children:`10s`}),(0,y.jsx)(`option`,{value:3e4,children:`30s`})]}),(0,y.jsx)(`button`,{onClick:()=>{d(),t([])},className:`px-3 py-1 bg-red-600 text-white rounded-md text-sm hover:bg-red-700`,children:`Clear Data`})]})]}),(0,y.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-3 gap-6`,children:[(0,y.jsxs)(`div`,{className:`text-center p-4 bg-gray-50 rounded-lg`,children:[(0,y.jsx)(`p`,{className:`text-2xl font-bold text-blue-600`,children:e.length}),(0,y.jsx)(`p`,{className:`text-sm text-gray-600`,children:`Total Measurements`})]}),(0,y.jsxs)(`div`,{className:`text-center p-4 bg-gray-50 rounded-lg`,children:[(0,y.jsxs)(`p`,{className:`text-2xl font-bold text-green-600`,children:[S,`ms`]}),(0,y.jsx)(`p`,{className:`text-sm text-gray-600`,children:`Average Load Time`})]}),(0,y.jsxs)(`div`,{className:`text-center p-4 bg-gray-50 rounded-lg`,children:[(0,y.jsxs)(`p`,{className:`text-2xl font-bold text-purple-600`,children:[Math.max(...e.map(e=>e.loadTime),0).toFixed(0),`ms`]}),(0,y.jsx)(`p`,{className:`text-sm text-gray-600`,children:`Peak Load Time`})]})]})]}),(0,y.jsxs)(`div`,{className:`bg-white rounded-xl shadow-sm p-6 border border-gray-100`,children:[(0,y.jsx)(`h2`,{className:`text-lg font-semibold text-gray-900 mb-4`,children:`Performance Trends`}),(0,y.jsx)(`div`,{className:`h-64 bg-gray-50 rounded-lg flex items-center justify-center`,children:(0,y.jsxs)(`div`,{className:`text-center`,children:[(0,y.jsx)(u,{className:`w-12 h-12 text-gray-400 mx-auto mb-2`}),(0,y.jsx)(`p`,{className:`text-gray-500`,children:`Real-time performance chart`}),(0,y.jsx)(`p`,{className:`text-sm text-gray-400`,children:`Chart integration available with Chart.js`})]})})]})]})})};export{b as default};
//# sourceMappingURL=PerformanceMonitoring-JuTZa1h7.js.map