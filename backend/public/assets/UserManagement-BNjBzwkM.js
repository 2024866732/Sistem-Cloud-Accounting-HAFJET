import{r as e}from"./rolldown-runtime-DGruFWvd.js";import{_ as t}from"./charts-CsPrSeQA.js";import{C as n,D as r,F as i,G as a,J as o,P as s,W as c,c as l,d as u,gt as d,h as f,k as p,l as m,n as h,u as g,x as _,y as v}from"./vendor-C1UjBRMx.js";var y=e(t()),b=e(h()),x=()=>{let[e,t]=(0,y.useState)([]),[h,x]=(0,y.useState)([]),[S,C]=(0,y.useState)([]),[w,T]=(0,y.useState)(`users`),[E,D]=(0,y.useState)(``),[O,k]=(0,y.useState)(`all`),[A,j]=(0,y.useState)(`all`),[M,N]=(0,y.useState)(!0);(0,y.useEffect)(()=>{(async()=>{N(!0),await new Promise(e=>setTimeout(e,1e3)),x([{id:`1`,name:`Super Admin`,description:`Full system access and control`,permissions:[`all`],color:`from-red-500 to-red-600`},{id:`2`,name:`Admin`,description:`Administrative access to all modules`,permissions:[`users.manage`,`settings.manage`,`reports.view`,`transactions.manage`],color:`from-purple-500 to-purple-600`},{id:`3`,name:`Manager`,description:`Management level access`,permissions:[`reports.view`,`transactions.view`,`invoices.manage`,`analytics.view`],color:`from-blue-500 to-blue-600`},{id:`4`,name:`Accountant`,description:`Accounting and financial operations`,permissions:[`transactions.manage`,`invoices.manage`,`reports.view`],color:`from-green-500 to-green-600`},{id:`5`,name:`Staff`,description:`Basic operational access`,permissions:[`transactions.create`,`invoices.create`],color:`from-yellow-500 to-yellow-600`},{id:`6`,name:`Viewer`,description:`Read-only access`,permissions:[`reports.view`,`transactions.view`],color:`from-gray-500 to-gray-600`}]),t([{id:`1`,name:`Ahmad Rahman`,email:`ahmad.rahman@hafjet.com`,phone:`+601234567890`,role:`super_admin`,permissions:[`all`],status:`active`,lastLogin:new Date(Date.now()-1800*1e3),createdAt:new Date(Date.now()-365*24*60*60*1e3),department:`IT Administration`,twoFactorEnabled:!0},{id:`2`,name:`Siti Nurhaliza`,email:`siti.nurhaliza@hafjet.com`,phone:`+601234567891`,role:`admin`,permissions:[`users.manage`,`settings.manage`,`reports.view`],status:`active`,lastLogin:new Date(Date.now()-7200*1e3),createdAt:new Date(Date.now()-4800*60*60*1e3),department:`Administration`,twoFactorEnabled:!0},{id:`3`,name:`Lim Wei Ming`,email:`lim.weiming@hafjet.com`,phone:`+601234567892`,role:`manager`,permissions:[`reports.view`,`transactions.view`,`invoices.manage`],status:`active`,lastLogin:new Date(Date.now()-14400*1e3),createdAt:new Date(Date.now()-3600*60*60*1e3),department:`Finance`,twoFactorEnabled:!1},{id:`4`,name:`Kavitha Ramasamy`,email:`kavitha.ramasamy@hafjet.com`,phone:`+601234567893`,role:`accountant`,permissions:[`transactions.manage`,`invoices.manage`,`reports.view`],status:`active`,lastLogin:new Date(Date.now()-360*60*1e3),createdAt:new Date(Date.now()-2400*60*60*1e3),department:`Accounting`,twoFactorEnabled:!0},{id:`5`,name:`David Tan`,email:`david.tan@hafjet.com`,phone:`+601234567894`,role:`staff`,permissions:[`transactions.create`,`invoices.create`],status:`inactive`,lastLogin:new Date(Date.now()-720*60*60*1e3),createdAt:new Date(Date.now()-1440*60*60*1e3),department:`Operations`,twoFactorEnabled:!1}]),C([{id:`1`,userId:`1`,userName:`Ahmad Rahman`,action:`User Login`,resource:`Authentication`,timestamp:new Date(Date.now()-1800*1e3),ipAddress:`192.168.1.100`,userAgent:`Mozilla/5.0 Chrome/118.0`},{id:`2`,userId:`2`,userName:`Siti Nurhaliza`,action:`Created Invoice`,resource:`INV-2025-001`,timestamp:new Date(Date.now()-7200*1e3),ipAddress:`192.168.1.101`,userAgent:`Mozilla/5.0 Chrome/118.0`},{id:`3`,userId:`3`,userName:`Lim Wei Ming`,action:`Generated Report`,resource:`Profit & Loss Report`,timestamp:new Date(Date.now()-14400*1e3),ipAddress:`192.168.1.102`,userAgent:`Mozilla/5.0 Safari/605.1`}]),N(!1)})()},[]);let P=e=>{let t=new Date,n=Math.floor((t.getTime()-e.getTime())/(1e3*60));return n<60?`${n} minutes ago`:n<1440?`${Math.floor(n/60)} hours ago`:`${Math.floor(n/1440)} days ago`},F=e=>h.find(t=>t.name.toLowerCase().replace(` `,`_`)===e)?.color||`from-gray-500 to-gray-600`,I=e=>{switch(e){case`active`:return`text-green-400 bg-green-500/10`;case`inactive`:return`text-gray-400 bg-gray-500/10`;case`suspended`:return`text-red-400 bg-red-500/10`;default:return`text-blue-400 bg-blue-500/10`}},L=e.filter(e=>{let t=e.name.toLowerCase().includes(E.toLowerCase())||e.email.toLowerCase().includes(E.toLowerCase()),n=O===`all`||e.role===O,r=A===`all`||e.status===A;return t&&n&&r}),R=e=>{t(t=>t.map(t=>t.id===e?{...t,status:t.status===`active`?`inactive`:`active`}:t))},z=e=>{t(t=>t.map(t=>t.id===e?{...t,twoFactorEnabled:!t.twoFactorEnabled}:t))};return(0,b.jsx)(`div`,{className:`min-h-screen bg-gradient-to-br from-blue-900 to-purple-900 p-6`,children:(0,b.jsxs)(`div`,{className:`max-w-7xl mx-auto`,children:[(0,b.jsxs)(`div`,{className:`mb-8`,children:[(0,b.jsx)(`h1`,{className:`text-4xl font-bold text-white mb-2`,children:`👥 User Management`}),(0,b.jsx)(`p`,{className:`text-white/80 text-lg`,children:`🔐 Comprehensive user management with role-based permissions and audit trails`})]}),(0,b.jsx)(`div`,{className:`bg-white/20 backdrop-blur-sm rounded-2xl p-6 border border-white/30 mb-8`,children:(0,b.jsx)(`div`,{className:`flex space-x-2`,children:[{id:`users`,label:`Users`,icon:l,count:e.length},{id:`roles`,label:`Roles & Permissions`,icon:v,count:h.length},{id:`audit`,label:`Audit Logs`,icon:d,count:S.length},{id:`settings`,label:`Security Settings`,icon:_,count:0}].map(e=>{let t=e.icon;return(0,b.jsxs)(`button`,{onClick:()=>T(e.id),className:`flex items-center space-x-2 px-4 py-3 rounded-xl transition-all duration-300 ${w===e.id?`bg-white/30 text-white font-semibold shadow-lg`:`text-white/70 hover:bg-white/20`}`,children:[(0,b.jsx)(t,{className:`h-5 w-5`}),(0,b.jsx)(`span`,{children:e.label}),e.count>0&&(0,b.jsx)(`span`,{className:`bg-blue-500 text-white text-xs px-2 py-1 rounded-full`,children:e.count})]},e.id)})})}),(0,b.jsx)(`div`,{className:`mb-8`,children:M?(0,b.jsx)(`div`,{className:`flex items-center justify-center h-64`,children:(0,b.jsx)(`div`,{className:`animate-spin h-12 w-12 border-4 border-white/30 border-t-white rounded-full`})}):(0,b.jsxs)(b.Fragment,{children:[w===`users`&&(()=>(0,b.jsxs)(`div`,{className:`space-y-6`,children:[(0,b.jsx)(`div`,{className:`bg-white/20 backdrop-blur-sm rounded-2xl p-6 border border-white/30`,children:(0,b.jsxs)(`div`,{className:`flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0`,children:[(0,b.jsxs)(`div`,{className:`flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4`,children:[(0,b.jsxs)(`div`,{className:`relative`,children:[(0,b.jsx)(n,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 text-white/60 h-4 w-4`}),(0,b.jsx)(`input`,{type:`text`,placeholder:`Search users...`,value:E,onChange:e=>D(e.target.value),className:`pl-10 pr-4 py-2 bg-white/10 border border-white/30 rounded-xl text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),(0,b.jsxs)(`select`,{value:O,onChange:e=>k(e.target.value),className:`bg-white/10 border border-white/30 rounded-xl px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[(0,b.jsx)(`option`,{value:`all`,className:`bg-gray-800`,children:`All Roles`}),h.map(e=>(0,b.jsx)(`option`,{value:e.name.toLowerCase().replace(` `,`_`),className:`bg-gray-800`,children:e.name},e.id))]}),(0,b.jsxs)(`select`,{value:A,onChange:e=>j(e.target.value),className:`bg-white/10 border border-white/30 rounded-xl px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[(0,b.jsx)(`option`,{value:`all`,className:`bg-gray-800`,children:`All Status`}),(0,b.jsx)(`option`,{value:`active`,className:`bg-gray-800`,children:`Active`}),(0,b.jsx)(`option`,{value:`inactive`,className:`bg-gray-800`,children:`Inactive`}),(0,b.jsx)(`option`,{value:`suspended`,className:`bg-gray-800`,children:`Suspended`})]})]}),(0,b.jsxs)(`div`,{className:`flex space-x-3`,children:[(0,b.jsxs)(`button`,{className:`bg-blue-600 text-white px-4 py-2 rounded-xl font-medium hover:bg-blue-700 transition-colors`,children:[(0,b.jsx)(u,{className:`inline h-4 w-4 mr-2`}),`Import`]}),(0,b.jsxs)(`button`,{className:`bg-green-600 text-white px-4 py-2 rounded-xl font-medium hover:bg-green-700 transition-colors`,children:[(0,b.jsx)(a,{className:`inline h-4 w-4 mr-2`}),`Export`]}),(0,b.jsxs)(`button`,{className:`bg-gradient-to-r from-purple-600 to-blue-600 text-white px-4 py-2 rounded-xl font-medium hover:shadow-lg transition-all duration-300`,children:[(0,b.jsx)(r,{className:`inline h-4 w-4 mr-2`}),`Add User`]})]})]})}),(0,b.jsx)(`div`,{className:`grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6`,children:L.map(e=>(0,b.jsxs)(`div`,{className:`bg-white/20 backdrop-blur-sm rounded-2xl p-6 border border-white/30 hover:shadow-lg transition-all duration-300`,children:[(0,b.jsxs)(`div`,{className:`flex items-start justify-between mb-4`,children:[(0,b.jsxs)(`div`,{className:`flex items-center space-x-3`,children:[(0,b.jsx)(`div`,{className:`h-12 w-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-lg`,children:e.name.charAt(0)}),(0,b.jsxs)(`div`,{children:[(0,b.jsx)(`h3`,{className:`text-white font-semibold`,children:e.name}),(0,b.jsx)(`p`,{className:`text-white/60 text-sm`,children:e.email})]})]}),(0,b.jsxs)(`div`,{className:`flex space-x-2`,children:[(0,b.jsx)(`button`,{className:`p-2 text-white/60 hover:text-blue-400 hover:bg-blue-500/10 rounded-xl transition-colors`,children:(0,b.jsx)(p,{className:`h-4 w-4`})}),(0,b.jsx)(`button`,{className:`p-2 text-white/60 hover:text-red-400 hover:bg-red-500/10 rounded-xl transition-colors`,children:(0,b.jsx)(f,{className:`h-4 w-4`})})]})]}),(0,b.jsxs)(`div`,{className:`space-y-3 mb-4`,children:[(0,b.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,b.jsx)(`span`,{className:`text-white/80 text-sm`,children:`Role`}),(0,b.jsx)(`span`,{className:`px-3 py-1 rounded-full text-xs font-medium text-white bg-gradient-to-r ${F(e.role)}`,children:e.role.replace(`_`,` `).replace(/\b\w/g,e=>e.toUpperCase())})]}),(0,b.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,b.jsx)(`span`,{className:`text-white/80 text-sm`,children:`Status`}),(0,b.jsx)(`span`,{className:`px-3 py-1 rounded-full text-xs font-medium ${I(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]}),(0,b.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,b.jsx)(`span`,{className:`text-white/80 text-sm`,children:`2FA`}),(0,b.jsxs)(`div`,{className:`flex items-center space-x-2`,children:[e.twoFactorEnabled?(0,b.jsx)(v,{className:`h-4 w-4 text-green-400`}):(0,b.jsx)(i,{className:`h-4 w-4 text-red-400`}),(0,b.jsx)(`button`,{onClick:()=>z(e.id),className:`text-blue-400 hover:text-blue-300 text-xs`,children:e.twoFactorEnabled?`Disable`:`Enable`})]})]}),e.lastLogin&&(0,b.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,b.jsx)(`span`,{className:`text-white/80 text-sm`,children:`Last Login`}),(0,b.jsx)(`span`,{className:`text-white/60 text-xs`,children:P(e.lastLogin)})]})]}),(0,b.jsxs)(`div`,{className:`flex space-x-3`,children:[(0,b.jsx)(`button`,{onClick:()=>R(e.id),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium transition-colors ${e.status===`active`?`bg-red-600 text-white hover:bg-red-700`:`bg-green-600 text-white hover:bg-green-700`}`,children:e.status===`active`?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m,{className:`inline h-4 w-4 mr-2`}),`Deactivate`]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(g,{className:`inline h-4 w-4 mr-2`}),`Activate`]})}),(0,b.jsxs)(`button`,{className:`py-2 px-4 bg-blue-600 text-white rounded-xl text-sm font-medium hover:bg-blue-700 transition-colors`,children:[(0,b.jsx)(s,{className:`inline h-4 w-4 mr-2`}),`Email`]})]})]},e.id))}),L.length===0&&(0,b.jsxs)(`div`,{className:`text-center py-12`,children:[(0,b.jsx)(l,{className:`h-16 w-16 text-white/40 mx-auto mb-4`}),(0,b.jsx)(`h3`,{className:`text-xl font-semibold text-white/80 mb-2`,children:`No users found`}),(0,b.jsx)(`p`,{className:`text-white/60`,children:`Try adjusting your search criteria.`})]})]}))(),w===`roles`&&(()=>(0,b.jsx)(`div`,{className:`space-y-6`,children:(0,b.jsxs)(`div`,{className:`bg-white/20 backdrop-blur-sm rounded-2xl p-6 border border-white/30`,children:[(0,b.jsxs)(`div`,{className:`flex items-center justify-between mb-6`,children:[(0,b.jsx)(`h3`,{className:`text-xl font-bold text-white`,children:`User Roles & Permissions`}),(0,b.jsxs)(`button`,{className:`bg-gradient-to-r from-purple-600 to-blue-600 text-white px-4 py-2 rounded-xl font-medium hover:shadow-lg transition-all duration-300`,children:[(0,b.jsx)(r,{className:`inline h-4 w-4 mr-2`}),`Create Role`]})]}),(0,b.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6`,children:h.map(t=>(0,b.jsxs)(`div`,{className:`bg-white/10 rounded-2xl p-6 border border-white/20`,children:[(0,b.jsxs)(`div`,{className:`flex items-center justify-between mb-4`,children:[(0,b.jsx)(`div`,{className:`p-3 rounded-xl bg-gradient-to-r ${t.color} text-white`,children:(0,b.jsx)(o,{className:`h-6 w-6`})}),(0,b.jsx)(`button`,{className:`p-2 text-white/60 hover:text-blue-400 hover:bg-blue-500/10 rounded-xl transition-colors`,children:(0,b.jsx)(p,{className:`h-4 w-4`})})]}),(0,b.jsx)(`h4`,{className:`text-white font-semibold mb-2`,children:t.name}),(0,b.jsx)(`p`,{className:`text-white/70 text-sm mb-4`,children:t.description}),(0,b.jsxs)(`div`,{className:`space-y-2`,children:[(0,b.jsx)(`h5`,{className:`text-white/80 text-sm font-medium`,children:`Permissions`}),(0,b.jsxs)(`div`,{className:`flex flex-wrap gap-2`,children:[t.permissions.slice(0,3).map((e,t)=>(0,b.jsx)(`span`,{className:`px-2 py-1 bg-white/20 text-white/80 text-xs rounded-lg`,children:e},t)),t.permissions.length>3&&(0,b.jsxs)(`span`,{className:`px-2 py-1 bg-white/20 text-white/80 text-xs rounded-lg`,children:[`+`,t.permissions.length-3,` more`]})]})]}),(0,b.jsx)(`div`,{className:`mt-4 pt-4 border-t border-white/20`,children:(0,b.jsxs)(`div`,{className:`flex justify-between text-sm`,children:[(0,b.jsx)(`span`,{className:`text-white/60`,children:`Users with this role`}),(0,b.jsx)(`span`,{className:`text-white font-medium`,children:e.filter(e=>e.role===t.name.toLowerCase().replace(` `,`_`)).length})]})})]},t.id))})]})}))(),w===`audit`&&(()=>(0,b.jsx)(`div`,{className:`space-y-6`,children:(0,b.jsxs)(`div`,{className:`bg-white/20 backdrop-blur-sm rounded-2xl p-6 border border-white/30`,children:[(0,b.jsx)(`h3`,{className:`text-xl font-bold text-white mb-6`,children:`User Activity Audit Trail`}),(0,b.jsx)(`div`,{className:`space-y-4`,children:S.map(e=>(0,b.jsx)(`div`,{className:`bg-white/10 rounded-xl p-4 border border-white/20`,children:(0,b.jsxs)(`div`,{className:`flex items-start justify-between`,children:[(0,b.jsxs)(`div`,{className:`flex items-start space-x-4`,children:[(0,b.jsx)(`div`,{className:`bg-blue-500/20 p-2 rounded-xl`,children:(0,b.jsx)(d,{className:`h-5 w-5 text-blue-400`})}),(0,b.jsxs)(`div`,{className:`flex-1`,children:[(0,b.jsxs)(`div`,{className:`flex items-center space-x-2 mb-2`,children:[(0,b.jsx)(`h4`,{className:`text-white font-semibold`,children:e.action}),(0,b.jsx)(`span`,{className:`px-2 py-1 bg-blue-500/20 text-blue-400 text-xs rounded-lg`,children:e.resource})]}),(0,b.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-3 gap-4 text-sm`,children:[(0,b.jsxs)(`div`,{children:[(0,b.jsx)(`span`,{className:`text-white/60`,children:`User: `}),(0,b.jsx)(`span`,{className:`text-white`,children:e.userName})]}),(0,b.jsxs)(`div`,{children:[(0,b.jsx)(`span`,{className:`text-white/60`,children:`IP Address: `}),(0,b.jsx)(`span`,{className:`text-white`,children:e.ipAddress})]}),(0,b.jsxs)(`div`,{children:[(0,b.jsx)(`span`,{className:`text-white/60`,children:`Time: `}),(0,b.jsx)(`span`,{className:`text-white`,children:P(e.timestamp)})]})]})]})]}),(0,b.jsx)(`button`,{className:`p-2 text-white/60 hover:text-blue-400 hover:bg-blue-500/10 rounded-xl transition-colors`,children:(0,b.jsx)(c,{className:`h-4 w-4`})})]})},e.id))})]})}))(),w===`settings`&&(0,b.jsxs)(`div`,{className:`bg-white/20 backdrop-blur-sm rounded-2xl p-6 border border-white/30 text-center`,children:[(0,b.jsx)(_,{className:`h-16 w-16 text-white/40 mx-auto mb-4`}),(0,b.jsx)(`h3`,{className:`text-xl font-semibold text-white/80 mb-2`,children:`Security Settings`}),(0,b.jsx)(`p`,{className:`text-white/60`,children:`Advanced security configuration options coming soon.`})]})]})}),(0,b.jsx)(`div`,{className:`bg-white/10 backdrop-blur-sm rounded-2xl p-4 border border-white/30 text-center`,children:(0,b.jsxs)(`p`,{className:`text-white/60 text-sm`,children:[`👥 `,e.length,` total users | 🔐 `,e.filter(e=>e.twoFactorEnabled).length,` with 2FA enabled | 📊 `,S.length,` recent activities logged`]})})]})})};export{x as default};
//# sourceMappingURL=UserManagement-BNjBzwkM.js.map